
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="zh_CN">
  <head>
        <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>安装 &#8212; 善理对讲SDK alpha 文档</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="搜索" href="search.html" />
    <link rel="prev" title="概述" href="csharp.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="总目录"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="csharp.html" title="概述"
             accesskey="P">上一页</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">善理对讲SDK alpha 文档</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="id1">
<h1>安装<a class="headerlink" href="#id1" title="永久链接至标题">¶</a></h1>
<ul class="simple">
<li>安装SetupEChatCom.msi</li>
<li>将ActiveX.cab文件放在Web的根目录下</li>
</ul>
<p>​</p>
</div>
<div class="section" id="id2">
<h1>初始化<a class="headerlink" href="#id2" title="永久链接至标题">¶</a></h1>
<div class="section" id="id3">
<h2>初始化配置<a class="headerlink" href="#id3" title="永久链接至标题">¶</a></h2>
<ul>
<li><p class="first">传参返回值采用UTF-8编码</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">Context</span></code> 和 <code class="docutils literal notranslate"><span class="pre">Dns</span></code>
配置，修改echat.ini文件（文件路径在桌面上面）：</p>
<div class="code ini highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">account</span><span class="p">]</span>
<span class="n">context</span> <span class="o">=</span> <span class="n">dev</span>
<span class="p">[</span><span class="n">network</span><span class="p">]</span>
<span class="n">dns</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">语音服务IP</span><span class="p">:</span><span class="n">端口</span><span class="o">&gt;</span>
</pre></div>
</div>
</li>
</ul>
</div>
</div>
<div class="section" id="id4">
<h1>示例<a class="headerlink" href="#id4" title="永久链接至标题">¶</a></h1>
<div class="section" id="id5">
<h2>登录示例<a class="headerlink" href="#id5" title="永久链接至标题">¶</a></h2>
<div class="section" id="activex">
<h3>加载ActiveX控件<a class="headerlink" href="#activex" title="永久链接至标题">¶</a></h3>
<p>注意： clsid必须为117343BA-BEAF-485D-B80C-7B5BE7395697不能更改</p>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nb">object</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;myAcX&quot;</span> <span class="n">classid</span><span class="o">=</span><span class="s2">&quot;clsid:117343BA-BEAF-485D-B80C-7B5BE7395697&quot;</span>
    <span class="n">codebase</span><span class="o">=</span><span class="s2">&quot;ActiveX.cab#version=1,0,0,0&quot;</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="nb">object</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="echatapi">
<h3>初始化EchatApi<a class="headerlink" href="#echatapi" title="永久链接至标题">¶</a></h3>
<p>注意：actix.Init()只能初始化一次。</p>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;myAcX&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
    <span class="n">window</span><span class="o">.</span><span class="n">actx</span> <span class="o">=</span> <span class="n">null</span>
    <span class="n">window</span><span class="o">.</span><span class="n">myself</span><span class="p">;</span>
    <span class="n">function</span> <span class="n">start</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">actx</span> <span class="o">=</span> <span class="n">document</span><span class="o">.</span><span class="n">getElementById</span><span class="p">(</span><span class="s2">&quot;myAcX&quot;</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">actx</span> <span class="o">!=</span> <span class="n">null</span><span class="p">)</span> <span class="p">{</span>
            <span class="o">//</span><span class="n">初始化EchatApi</span>
            <span class="n">actx</span><span class="o">.</span><span class="n">Init</span><span class="p">();</span>
            <span class="o">//</span><span class="n">登录方法</span>
            <span class="n">actx</span><span class="o">.</span><span class="n">Login</span><span class="p">(</span><span class="s2">&quot;13800000009&quot;</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="n">window</span><span class="o">.</span><span class="n">onload</span> <span class="o">=</span> <span class="n">start</span><span class="p">;</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="id6">
<h3>登录成功事件<a class="headerlink" href="#id6" title="永久链接至标题">¶</a></h3>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;myAcX&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span>  <span class="n">event</span><span class="o">=</span><span class="s2">&quot;onOnlineStatusChangedX(message)&quot;</span><span class="o">&gt;</span>
  <span class="k">if</span><span class="p">(</span><span class="n">message</span> <span class="o">==</span> <span class="mi">3</span><span class="p">){</span>
     <span class="n">window</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">href</span> <span class="o">=</span> <span class="s2">&quot;WebForm2.aspx&quot;</span><span class="p">;</span>
  <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="id7">
<h3>登录失败事件<a class="headerlink" href="#id7" title="永久链接至标题">¶</a></h3>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;myAcX&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span> <span class="n">event</span><span class="o">=</span><span class="s2">&quot;onErrorX(messag,error)&quot;</span><span class="o">&gt;</span>
  <span class="o">//</span><span class="n">错误码可以查询</span>  <span class="n">数据定义</span><span class="o">--</span><span class="n">登录错误码</span>
  <span class="n">alert</span><span class="p">(</span><span class="s2">&quot;onErrorX&quot;</span> <span class="o">+</span> <span class="n">error</span><span class="p">);</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="id8">
<h2>主页面示例<a class="headerlink" href="#id8" title="永久链接至标题">¶</a></h2>
<div class="section" id="id9">
<h3>加载ActiveX控件<a class="headerlink" href="#id9" title="永久链接至标题">¶</a></h3>
<p>注意： clsid必须为117343BA-BEAF-485D-B80C-7B5BE7395697不能更改</p>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nb">object</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;myAcX&quot;</span> <span class="n">classid</span><span class="o">=</span><span class="s2">&quot;clsid:117343BA-BEAF-485D-B80C-7B5BE7395697&quot;</span>
       <span class="n">codebase</span><span class="o">=</span><span class="s2">&quot;ActiveX.cab#version=1,0,0,0&quot;</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="nb">object</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="id10">
<h3>初始化EchatApi中的事件<a class="headerlink" href="#id10" title="永久链接至标题">¶</a></h3>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;myAcX&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
    <span class="n">window</span><span class="o">.</span><span class="n">actx</span> <span class="o">=</span> <span class="n">null</span>
    <span class="n">window</span><span class="o">.</span><span class="n">myself</span><span class="p">;</span>
    <span class="n">function</span> <span class="n">start</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">actx</span> <span class="o">=</span> <span class="n">document</span><span class="o">.</span><span class="n">getElementById</span><span class="p">(</span><span class="s2">&quot;myAcX&quot;</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">actx</span> <span class="o">!=</span> <span class="n">null</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">actx</span><span class="o">.</span><span class="n">Init2</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="n">window</span><span class="o">.</span><span class="n">onload</span> <span class="o">=</span> <span class="n">start</span><span class="p">;</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id11">
<h1>接口定义<a class="headerlink" href="#id11" title="永久链接至标题">¶</a></h1>
<div class="section" id="id12">
<h2>账号管理<a class="headerlink" href="#id12" title="永久链接至标题">¶</a></h2>
<div class="section" id="login-string-string-int">
<h3>Login方法（String,String,Int)<a class="headerlink" href="#login-string-string-int" title="永久链接至标题">¶</a></h3>
<p>调度员登录方法</p>
<div class="section" id="id13">
<h4>语法<a class="headerlink" href="#id13" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">public</span> <span class="nb">int</span> <span class="n">Login</span><span class="p">(</span><span class="n">string</span> <span class="n">account</span><span class="p">,</span> <span class="n">string</span> <span class="n">password</span><span class="p">,</span> <span class="nb">int</span> <span class="n">role</span><span class="p">)</span>
</pre></div>
</div>
<p>参数</p>
<p>account</p>
<p>​ Type:System.String</p>
<p>​ 登录账号</p>
<p>password</p>
<p>​ Type:System.String</p>
<p>​ 明文密码</p>
<p>role</p>
<p>​ Type:System.Int32</p>
<p>​ 用户角色，0:对讲用户；3：调度员</p>
<p>返回值</p>
<p>Type:System.Int32</p>
<p>执行成功标示 0：成功 ，-1：失败</p>
</div>
<div class="section" id="id14">
<h4>备注<a class="headerlink" href="#id14" title="永久链接至标题">¶</a></h4>
<p>参数role传固定值3</p>
</div>
<div class="section" id="id15">
<h4>通知事件<a class="headerlink" href="#id15" title="永久链接至标题">¶</a></h4>
<ul class="simple">
<li>onOnlineStatusChangedX，当用户登录成功后触发，<code class="docutils literal notranslate"><span class="pre">OnlineStatus</span></code> 为
<code class="docutils literal notranslate"><span class="pre">ONLINE_STATUS_ONLINE</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">onErrorX</span></code>，当用户登录失败时触发。错误码参考： 错误码</li>
</ul>
</div>
<div class="section" id="id16">
<h4>示例<a class="headerlink" href="#id16" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nb">input</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;Submit13&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;登录&#39;</span> <span class="n">runat</span><span class="o">=</span><span class="s2">&quot;server&quot;</span>  <span class="n">onclick</span><span class="o">=</span><span class="s2">&quot;Login()&quot;</span> <span class="o">/&gt;</span>

<span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
<span class="o">//</span><span class="n">登录方法</span>
<span class="n">function</span> <span class="n">Login</span><span class="p">(){</span>
  <span class="n">actx</span><span class="o">.</span><span class="n">Login</span><span class="p">(</span><span class="s2">&quot;13800000009&quot;</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
<span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;myAcX&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span> <span class="n">event</span><span class="o">=</span><span class="s2">&quot;onOnlineStatusChangedX(message)&quot;</span><span class="o">&gt;</span>
    <span class="n">alert</span><span class="p">(</span><span class="s2">&quot;onOnlineStatusChangedX&quot;</span> <span class="o">+</span> <span class="n">message</span><span class="p">);</span>
    <span class="o">//</span><span class="n">message为3表示登录成功</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">message</span> <span class="o">==</span> <span class="mi">3</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">window</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">href</span> <span class="o">=</span> <span class="s2">&quot;WebForm2.aspx&quot;</span><span class="p">;</span>
    <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;myAcX&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span> <span class="n">event</span><span class="o">=</span><span class="s2">&quot;onErrorX(message,error)&quot;</span><span class="o">&gt;</span>
    <span class="n">alert</span><span class="p">(</span><span class="s2">&quot;onErrorX&quot;</span> <span class="o">+</span> <span class="n">message</span> <span class="o">+</span> <span class="n">error</span><span class="p">);</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="logout">
<h3>Logout方法()<a class="headerlink" href="#logout" title="永久链接至标题">¶</a></h3>
<p>退出登录界面</p>
<div class="section" id="id17">
<h4>语法<a class="headerlink" href="#id17" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">public</span> <span class="nb">int</span> <span class="n">Logout</span><span class="p">();</span>
</pre></div>
</div>
<p>返回值</p>
<p>Type:System.Int32</p>
<p>执行成功标示 0：成功 ，-1：失败</p>
</div>
<div class="section" id="id18">
<h4>示例<a class="headerlink" href="#id18" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nb">input</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;Submit13&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;退出&#39;</span> <span class="n">runat</span><span class="o">=</span><span class="s2">&quot;server&quot;</span>  <span class="n">onclick</span><span class="o">=</span><span class="s2">&quot;Logout()&quot;</span> <span class="o">/&gt;</span>

<span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
<span class="n">function</span> <span class="n">Logout</span><span class="p">(){</span>
  <span class="n">actx</span><span class="o">.</span><span class="n">Logout</span><span class="p">();</span>
<span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="getcurrentuser">
<h3>GetCurrentUser方法()<a class="headerlink" href="#getcurrentuser" title="永久链接至标题">¶</a></h3>
<p>获取用户信息</p>
<div class="section" id="id19">
<h4>语法<a class="headerlink" href="#id19" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">public</span> <span class="n">string</span> <span class="n">GetCurrentUser</span><span class="p">()</span>
</pre></div>
</div>
<p>返回值</p>
<p>Type: System.String</p>
<p>序列化的 JSON 字符串。</p>
<p>对象：用户实体类 User 参考 ：用户信息</p>
</div>
<div class="section" id="id20">
<h4>示例<a class="headerlink" href="#id20" title="永久链接至标题">¶</a></h4>
<p>代码示例</p>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nb">input</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;Submit37&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;获取当前登录的账号信息&#39;</span> <span class="n">runat</span><span class="o">=</span><span class="s2">&quot;server&quot;</span>  <span class="n">onclick</span><span class="o">=</span><span class="s2">&quot;GetCurrentUser()&quot;</span> <span class="o">/&gt;</span>

<span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
<span class="n">function</span> <span class="n">GetCurrentUser</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">actx</span><span class="o">.</span><span class="n">GetCurrentUser</span><span class="p">();</span>
  <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>返回数据示例</p>
<div class="code json highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s2">&quot;gid&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;uid&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;role&quot;</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="s2">&quot;online&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;has_gid&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;has_role&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;audio_enabled&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;账号09&quot;</span><span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="getonlinestatus">
<h3>GetOnlineStatus方法()<a class="headerlink" href="#getonlinestatus" title="永久链接至标题">¶</a></h3>
<p>获取当前用户在线状态</p>
<div class="section" id="id21">
<h4>语法<a class="headerlink" href="#id21" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">public</span> <span class="n">OnlineStatus</span> <span class="n">GetOnlineStatus</span><span class="p">();</span>
</pre></div>
</div>
<p>返回值</p>
<p>Type：OnlineStatus</p>
<p>返回在线状态的枚举，参考： 用户在线状态</p>
</div>
<div class="section" id="id22">
<h4>示例<a class="headerlink" href="#id22" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;Submit34&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;获取在线状态&#39;</span> <span class="n">runat</span><span class="o">=</span><span class="s2">&quot;server&quot;</span>  <span class="n">onclick</span><span class="o">=</span><span class="s2">&quot;GetOnlineStatus()&quot;</span> <span class="o">/&gt;</span>

<span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
<span class="n">function</span> <span class="n">GetOnlineStatus</span><span class="p">()</span> <span class="p">{</span>
     <span class="n">actx</span><span class="o">.</span><span class="n">GetOnlineStatus</span><span class="p">();</span>
  <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="getuid">
<h3>GetUid方法()<a class="headerlink" href="#getuid" title="永久链接至标题">¶</a></h3>
<p>获取当前账号UID</p>
<div class="section" id="id23">
<h4>语法<a class="headerlink" href="#id23" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">public</span> <span class="nb">int</span> <span class="n">GetUid</span><span class="p">();</span>
</pre></div>
</div>
<p>返回值</p>
<p>Type:System.Int32</p>
<p>返回当前登录用户的UID</p>
<p>​</p>
</div>
<div class="section" id="id24">
<h4>示例<a class="headerlink" href="#id24" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nb">input</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;Submit35&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;获取账号ID&#39;</span> <span class="n">runat</span><span class="o">=</span><span class="s2">&quot;server&quot;</span>  <span class="n">onclick</span><span class="o">=</span><span class="s2">&quot;GetUid()&quot;</span> <span class="o">/&gt;</span>

<span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
<span class="n">function</span> <span class="n">GetUid</span><span class="p">()</span> <span class="p">{</span>
   <span class="n">actx</span><span class="o">.</span><span class="n">GetUid</span><span class="p">();</span>
 <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="getname">
<h3>GetName方法()<a class="headerlink" href="#getname" title="永久链接至标题">¶</a></h3>
<p>获取用户名</p>
<div class="section" id="id25">
<h4>语法<a class="headerlink" href="#id25" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">public</span> <span class="n">string</span> <span class="n">GetName</span><span class="p">();</span>
</pre></div>
</div>
<p>返回值</p>
<p>Type:System.Sting</p>
<p>返回当前登录用户的中文名</p>
</div>
<div class="section" id="id26">
<h4>示例<a class="headerlink" href="#id26" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nb">input</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;Submit36&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;获取中文名&#39;</span> <span class="n">runat</span><span class="o">=</span><span class="s2">&quot;server&quot;</span>  <span class="n">onclick</span><span class="o">=</span><span class="s2">&quot;GetName()&quot;</span> <span class="o">/&gt;</span>

<span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
<span class="n">function</span> <span class="n">GetName</span><span class="p">()</span> <span class="p">{</span>
       <span class="n">actx</span><span class="o">.</span><span class="n">GetName</span><span class="p">();</span>
 <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="hasaudioenabled">
<h3>HasAudioEnabled方法()<a class="headerlink" href="#hasaudioenabled" title="永久链接至标题">¶</a></h3>
<p>是否被禁言状态</p>
<div class="section" id="id27">
<h4>语法<a class="headerlink" href="#id27" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">public</span> <span class="nb">bool</span> <span class="n">HasAudioEnabled</span><span class="p">();</span>
</pre></div>
</div>
<p>返回值</p>
<p>Type：System.Boolean</p>
<p>true：正常发言 ，false：被禁言。</p>
<p>​</p>
</div>
<div class="section" id="id28">
<h4>示例<a class="headerlink" href="#id28" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nb">input</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;Submit36&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;是否被禁言&#39;</span> <span class="n">runat</span><span class="o">=</span><span class="s2">&quot;server&quot;</span>  <span class="n">onclick</span><span class="o">=</span><span class="s2">&quot;HasAudioEnabled()&quot;</span> <span class="o">/&gt;</span>

<span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
<span class="n">function</span> <span class="n">HasAudioEnabled</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">actx</span><span class="o">.</span><span class="n">HasAudioEnabled</span><span class="p">();</span>
    <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="changename-string">
<h3>ChangeName方法 (string)<a class="headerlink" href="#changename-string" title="永久链接至标题">¶</a></h3>
<p>修改用户名</p>
<div class="section" id="id29">
<h4>语法<a class="headerlink" href="#id29" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">public</span> <span class="nb">int</span> <span class="n">ChangeName</span><span class="p">(</span><span class="n">string</span> <span class="n">name</span><span class="p">);</span>
</pre></div>
</div>
<p>参数</p>
<p>name</p>
<p>​ Type:System.String</p>
<p>​ 登录账号</p>
<p>​</p>
<table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="47%" />
<col width="27%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">参数</th>
<th class="head">描述</th>
<th class="head">备注</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>name</td>
<td>新用户名称</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<p>返回值</p>
<p>Type:System.Int32</p>
<p>执行成功标示 0：成功 ，-1：失败</p>
<p>​</p>
</div>
<div class="section" id="id30">
<h4>通知事件<a class="headerlink" href="#id30" title="永久链接至标题">¶</a></h4>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">onChangeNameResultX</span></code> 修改用户名触发此事件，事件处理是否修改成功。</li>
</ul>
</div>
<div class="section" id="id31">
<h4>示例<a class="headerlink" href="#id31" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nb">input</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;Submit18&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;修改用户名&#39;</span> <span class="n">runat</span><span class="o">=</span><span class="s2">&quot;server&quot;</span>  <span class="n">onclick</span><span class="o">=</span><span class="s2">&quot;ChangeName()&quot;</span> <span class="o">/&gt;</span>

<span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
<span class="n">function</span> <span class="n">ChangeName</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">actx</span><span class="o">.</span><span class="n">ChangeName</span><span class="p">(</span><span class="s2">&quot;账号09&quot;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;myAcX&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span> <span class="n">event</span><span class="o">=</span><span class="s2">&quot;onChangeNameResultX(success)&quot;</span><span class="o">&gt;</span>
<span class="k">if</span><span class="p">(</span><span class="n">success</span><span class="p">){</span>
  <span class="o">//</span><span class="n">账号名称修改成功</span>
  <span class="p">}</span><span class="k">else</span><span class="p">{</span>
  <span class="o">//</span><span class="n">账号名称修改失败</span>
  <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="changepassword-string-string">
<h3>ChangePassword方法(String,String)<a class="headerlink" href="#changepassword-string-string" title="永久链接至标题">¶</a></h3>
<p>修改密码</p>
<div class="section" id="id32">
<h4>语法<a class="headerlink" href="#id32" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">public</span> <span class="nb">int</span> <span class="n">ChangePassword</span><span class="p">(</span><span class="n">string</span> <span class="n">oldpassword</span><span class="p">,</span> <span class="n">string</span> <span class="n">newpassword</span><span class="p">);</span>
</pre></div>
</div>
<p>参数</p>
<p>oldpassword</p>
<p>​ Type:System.String</p>
<p>​ 旧密码（明文）</p>
<p>newpassword</p>
<p>​ Type:System.String</p>
<p>​ 新密码（明文）</p>
<p>返回值</p>
<p>Type:System.Int32</p>
<p>执行成功标示 0：成功 ，-1：失败</p>
</div>
<div class="section" id="id33">
<h4>通知事件<a class="headerlink" href="#id33" title="永久链接至标题">¶</a></h4>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">onChangePasswordResultX</span></code> ,
修改密码触发此事件，事件处理是否修改成功</li>
</ul>
</div>
<div class="section" id="id34">
<h4>示例<a class="headerlink" href="#id34" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nb">input</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;Submit19&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;ChangePassword&#39;</span> <span class="n">runat</span><span class="o">=</span><span class="s2">&quot;server&quot;</span>  <span class="n">onclick</span><span class="o">=</span><span class="s2">&quot;ChangePassword()&quot;</span> <span class="o">/&gt;</span>

<span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
<span class="n">function</span> <span class="n">ChangePassword</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">actx</span><span class="o">.</span><span class="n">ChangePassword</span><span class="p">(</span><span class="s2">&quot;2&quot;</span><span class="p">,</span><span class="s2">&quot;1&quot;</span><span class="p">);</span>
  <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;myAcX&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span> <span class="n">event</span><span class="o">=</span><span class="s2">&quot;onChangePasswordResultX(success)&quot;</span><span class="o">&gt;</span>
   <span class="k">if</span><span class="p">(</span><span class="n">success</span><span class="p">){</span>
  <span class="o">//</span><span class="n">账号密码修改成功</span>
  <span class="p">}</span><span class="k">else</span><span class="p">{</span>
  <span class="o">//</span><span class="n">账号密码修改失败</span>
  <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="saveaccount-string">
<h3>SaveAccount方法(String)<a class="headerlink" href="#saveaccount-string" title="永久链接至标题">¶</a></h3>
<p>保存账号</p>
<div class="section" id="id35">
<h4>语法<a class="headerlink" href="#id35" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">public</span> <span class="nb">int</span> <span class="n">SaveAccount</span><span class="p">(</span><span class="n">string</span> <span class="n">account</span><span class="p">);</span>
</pre></div>
</div>
<p>参数</p>
<p>account</p>
<p>​ Type: System.String</p>
<p>​ 序列化的 JSON 字符串。</p>
<p>​ 对象：用户实体类 User 参考 用户信息</p>
<p>返回值</p>
<p>Type:System.Int32</p>
<p>执行成功标示 0：成功 ，-1：失败</p>
</div>
<div class="section" id="id36">
<h4>示例<a class="headerlink" href="#id36" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nb">input</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;Submit14&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;保存账号&#39;</span> <span class="n">runat</span><span class="o">=</span><span class="s2">&quot;server&quot;</span>  <span class="n">onclick</span><span class="o">=</span><span class="s2">&quot;SaveAccount()&quot;</span> <span class="o">/&gt;</span>

<span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
<span class="n">function</span> <span class="n">SaveAccount</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">var</span> <span class="n">obj</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Object</span><span class="p">();</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Name</span> <span class="o">=</span> <span class="s2">&quot;13800000009&quot;</span><span class="p">;</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Password</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span><span class="p">;</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Role</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">IsRemembered</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">IsAutoLogin</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

        <span class="n">var</span> <span class="n">jsonStr</span> <span class="o">=</span> <span class="n">JSON</span><span class="o">.</span><span class="n">stringify</span><span class="p">(</span><span class="n">obj</span><span class="p">);</span>
        <span class="n">actx</span><span class="o">.</span><span class="n">SaveAccount</span><span class="p">(</span><span class="n">jsonStr</span><span class="p">);</span>
    <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="clearaccount">
<h3>ClearAccount方法()<a class="headerlink" href="#clearaccount" title="永久链接至标题">¶</a></h3>
<p>清空已保存账号</p>
<div class="section" id="id37">
<h4>语法<a class="headerlink" href="#id37" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">public</span> <span class="nb">int</span> <span class="n">ClearAccount</span><span class="p">();</span>
</pre></div>
</div>
<p>返回值</p>
<p>Type:System.Int32</p>
<p>执行成功标示 0：成功 ，-1：失败</p>
</div>
<div class="section" id="id38">
<h4>示例<a class="headerlink" href="#id38" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nb">input</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;Submit44&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;ClearAccount&#39;</span> <span class="n">runat</span><span class="o">=</span><span class="s2">&quot;server&quot;</span>  <span class="n">onclick</span><span class="o">=</span><span class="s2">&quot;ClearAccount()&quot;</span> <span class="o">/&gt;</span>

<span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
<span class="n">function</span> <span class="n">ClearAccount</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">actx</span><span class="o">.</span><span class="n">ClearAccount</span><span class="p">();</span>
    <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="hasaccount">
<h3>HasAccount方法()<a class="headerlink" href="#hasaccount" title="永久链接至标题">¶</a></h3>
<p>是否已保存账号</p>
<div class="section" id="id39">
<h4>语法<a class="headerlink" href="#id39" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">public</span> <span class="nb">bool</span> <span class="n">HasAccount</span><span class="p">();</span>
</pre></div>
</div>
<p>返回值</p>
<p>Type：System.Boolean</p>
<p>true：有 ，false：无</p>
</div>
<div class="section" id="id40">
<h4>示例<a class="headerlink" href="#id40" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nb">input</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;Submit15&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;HasAccount&#39;</span> <span class="n">runat</span><span class="o">=</span><span class="s2">&quot;server&quot;</span>  <span class="n">onclick</span><span class="o">=</span><span class="s2">&quot;HasAccount()&quot;</span> <span class="o">/&gt;</span>

<span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
<span class="n">function</span> <span class="n">HasAccount</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">var</span> <span class="n">result</span> <span class="o">=</span> <span class="n">actx</span><span class="o">.</span><span class="n">HasAccount</span><span class="p">();</span>
  <span class="k">if</span><span class="p">(</span><span class="n">result</span><span class="p">){</span>
    <span class="o">//</span><span class="n">有保存的账号</span>
  <span class="p">}</span><span class="k">else</span><span class="p">{</span>
    <span class="o">//</span><span class="n">没有保存的账号</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="getsavedaccount">
<h3>GetSavedAccount方法()<a class="headerlink" href="#getsavedaccount" title="永久链接至标题">¶</a></h3>
<p>获取已保存的账号</p>
<div class="section" id="id41">
<h4>语法<a class="headerlink" href="#id41" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">public</span> <span class="n">string</span> <span class="n">GetSavedAccount</span><span class="p">();</span>
</pre></div>
</div>
<p>返回值</p>
<p>Type: System.String</p>
<p>序列化的 JSON 字符串。</p>
<p>对象：账号实体类 Account参考 账号信息</p>
</div>
<div class="section" id="id42">
<h4>示例<a class="headerlink" href="#id42" title="永久链接至标题">¶</a></h4>
<p>代码示例</p>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nb">input</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;Submit17&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;获取已保存的账号&#39;</span> <span class="n">runat</span><span class="o">=</span><span class="s2">&quot;server&quot;</span>  <span class="n">onclick</span><span class="o">=</span><span class="s2">&quot;GetSavedAccount()&quot;</span> <span class="o">/&gt;</span>

<span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
<span class="n">function</span> <span class="n">GetSavedAccount</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">actx</span><span class="o">.</span><span class="n">GetSavedAccount</span><span class="p">();</span>
    <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>返回值示例</p>
<div class="code json highlight-default notranslate"><div class="highlight"><pre><span></span>{&quot;Name&quot;:&quot;13800000009&quot;,&quot;Password&quot;:&quot;1&quot;,&quot;Role&quot;:3,&quot;IsRemembered&quot;:0,&quot;IsAutoLogin&quot;：0}
</pre></div>
</div>
</div>
</div>
<div class="section" id="loginwithsaved">
<h3>LoginWithSaved方法()<a class="headerlink" href="#loginwithsaved" title="永久链接至标题">¶</a></h3>
<p>使用已存储的账号登录</p>
<div class="section" id="id43">
<h4>语法<a class="headerlink" href="#id43" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">public</span> <span class="nb">int</span> <span class="n">LoginWithSaved</span><span class="p">();</span>
</pre></div>
</div>
<p>返回值</p>
<p>Type:System.Int32</p>
<p>执行成功标示 0：成功 ，-1：失败</p>
</div>
<div class="section" id="id44">
<h4>通知事件<a class="headerlink" href="#id44" title="永久链接至标题">¶</a></h4>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">onOnlineStatusChangedX</span></code> ，当用户登录成功后触发，<code class="docutils literal notranslate"><span class="pre">OnlineStatus</span></code>
状态改为 <code class="docutils literal notranslate"><span class="pre">ONLINE_STATUS_ONLINE</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">OnErrorX</span></code>，当用户登录失败时触发。</li>
</ul>
</div>
<div class="section" id="id45">
<h4>示例<a class="headerlink" href="#id45" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nb">input</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;Submit16&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;LoginWithSaved&#39;</span> <span class="n">runat</span><span class="o">=</span><span class="s2">&quot;server&quot;</span>  <span class="n">onclick</span><span class="o">=</span><span class="s2">&quot;LoginWithSaved()&quot;</span> <span class="o">/&gt;</span>

<span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
<span class="n">function</span> <span class="n">LoginWithSaved</span><span class="p">()</span> <span class="p">{</span>
       <span class="n">actx</span><span class="o">.</span><span class="n">LoginWithSaved</span><span class="p">();</span>
    <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="ononlinestatuschangedx">
<h3>onOnlineStatusChangedX事件<a class="headerlink" href="#ononlinestatuschangedx" title="永久链接至标题">¶</a></h3>
<p>登录状态改变通知</p>
<div class="section" id="id46">
<h4>语法<a class="headerlink" href="#id46" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">onOnlineStatusChangedX</span><span class="p">(</span><span class="nb">object</span> <span class="n">OnlineStatus</span><span class="p">);</span>
</pre></div>
</div>
<p>参数</p>
<p>status</p>
<p>​ Type: System.Object 用户在线状态</p>
<p>​ OnlineStatus 参考： 用户在线状态</p>
</div>
<div class="section" id="id47">
<h4>示例<a class="headerlink" href="#id47" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;myAcX&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span> <span class="n">event</span><span class="o">=</span><span class="s2">&quot;onOnlineStatusChangedX(message)&quot;</span><span class="o">&gt;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">message</span> <span class="o">==</span> <span class="n">OnlineStatus</span><span class="o">.</span><span class="n">ONLINE_STATUS_ONLINE</span><span class="p">)</span> <span class="p">{</span>
        <span class="o">//</span><span class="n">此为用户在线状态</span>
    <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="onchangenameresultx">
<h3>onChangeNameResultX事件<a class="headerlink" href="#onchangenameresultx" title="永久链接至标题">¶</a></h3>
<p>修改用户名称通知</p>
<div class="section" id="id48">
<h4>语法<a class="headerlink" href="#id48" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">onChangeNameResultX</span><span class="p">(</span><span class="nb">object</span> <span class="n">success</span><span class="p">);</span>
</pre></div>
</div>
<p>参数</p>
<p>success</p>
<p>​ Type: System.Object 修改名称结果</p>
<p>​ true：修改成功 false：修改失败</p>
</div>
<div class="section" id="id49">
<h4>示例<a class="headerlink" href="#id49" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;myAcX&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span> <span class="n">event</span><span class="o">=</span><span class="s2">&quot;onChangeNameResultX(success)&quot;</span><span class="o">&gt;</span>
<span class="k">if</span><span class="p">(</span><span class="n">success</span><span class="p">){</span>
  <span class="o">//</span><span class="n">账号名称修改成功</span>
  <span class="p">}</span><span class="k">else</span><span class="p">{</span>
  <span class="o">//</span><span class="n">账号名称修改失败</span>
  <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="onchangepasswordresultx">
<h3>onChangePasswordResultX事件<a class="headerlink" href="#onchangepasswordresultx" title="永久链接至标题">¶</a></h3>
<p>修改密码通知</p>
<div class="section" id="id50">
<h4>语法<a class="headerlink" href="#id50" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">onChangePasswordResultX</span><span class="p">(</span><span class="nb">object</span> <span class="n">success</span><span class="p">);</span>
</pre></div>
</div>
<p>​ 参数</p>
<p>success</p>
<p>​ Type: System.Object 修改密码结果</p>
<p>​ true：修改成功 false：修改失败</p>
</div>
<div class="section" id="id51">
<h4>示例<a class="headerlink" href="#id51" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;myAcX&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span> <span class="n">event</span><span class="o">=</span><span class="s2">&quot;onChangePasswordResultX(success)&quot;</span><span class="o">&gt;</span>
   <span class="k">if</span><span class="p">(</span><span class="n">success</span><span class="p">){</span>
  <span class="o">//</span><span class="n">账号密码修改成功</span>
  <span class="p">}</span><span class="k">else</span><span class="p">{</span>
  <span class="o">//</span><span class="n">账号密码修改失败</span>
  <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="onaudioenablechangedx">
<h3>onAudioEnableChangedX事件<a class="headerlink" href="#onaudioenablechangedx" title="永久链接至标题">¶</a></h3>
<p>当前用户遥开遥闭状态通知</p>
<div class="section" id="id52">
<h4>语法<a class="headerlink" href="#id52" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">onAudioEnableChangedX</span><span class="p">(</span><span class="nb">object</span> <span class="n">audio_enable</span><span class="p">);</span>
</pre></div>
</div>
<p>参数</p>
<p>audio_enable</p>
<p>​ Type: System.Object</p>
<p>​ true：遥开 false：遥闭</p>
</div>
<div class="section" id="id53">
<h4>示例<a class="headerlink" href="#id53" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;myAcX&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span> <span class="n">event</span><span class="o">=</span><span class="s2">&quot;onAudioEnableChangedX(audio_enable)&quot;</span><span class="o">&gt;</span>
  <span class="k">if</span><span class="p">(</span><span class="n">audio_enable</span><span class="p">){</span>
    <span class="o">//</span><span class="n">遥开</span>
  <span class="p">}</span><span class="k">else</span><span class="p">{</span>
    <span class="o">//</span><span class="n">遥闭</span>
  <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="onuserchangedx">
<h3>onUserChangedX事件<a class="headerlink" href="#onuserchangedx" title="永久链接至标题">¶</a></h3>
<p>注册监听用户状态变化</p>
<ul class="simple">
<li>被动触发条件</li>
</ul>
<p>echat 服务内部 User 缓存变更时触发，例如用户状态改变或用户名改变。</p>
<p>当前用户所在群组里的其他用户正在讲话时</p>
<div class="section" id="id54">
<h4>语法<a class="headerlink" href="#id54" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">onUserChangedX</span><span class="p">(</span><span class="nb">object</span> <span class="n">count</span><span class="p">,</span> <span class="nb">object</span> <span class="n">usersListjson</span><span class="p">);</span>
</pre></div>
</div>
<p>参数</p>
<p>count</p>
<p>​ Type: System.Object 变化用户数</p>
<p>​ usersListjson：</p>
<p>​ Type：System.String</p>
<p>​ 序列化的 JSON 字符串。</p>
<p>​ 对象：用户实体类 User 参考 ：用户信息</p>
<p>​</p>
</div>
<div class="section" id="id55">
<h4>示例<a class="headerlink" href="#id55" title="永久链接至标题">¶</a></h4>
<p>代码示例</p>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;myAcX&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span> <span class="n">event</span><span class="o">=</span><span class="s2">&quot;onUserChangedX(count,usersListjson)&quot;</span><span class="o">&gt;</span>

<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>返回数据示例</p>
<div class="code json highlight-default notranslate"><div class="highlight"><pre><span></span>usersListjson数据：
[{&quot;gid&quot;:600901,&quot;uid&quot;:50711,&quot;role&quot;:0,&quot;online&quot;:1,&quot;has_gid&quot;:1,&quot;has_role&quot;:1,&quot;audio_enable&quot;:1,&quot;name&quot;:&quot;账号01&quot;}]
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id56">
<h2>群组<a class="headerlink" href="#id56" title="永久链接至标题">¶</a></h2>
<div class="section" id="joingroup-int">
<h3>JoinGroup方法(Int)<a class="headerlink" href="#joingroup-int" title="永久链接至标题">¶</a></h3>
<p>根据群组ID，进入到相应的群组里</p>
<div class="section" id="id57">
<h4>语法<a class="headerlink" href="#id57" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">public</span> <span class="nb">int</span> <span class="n">JoinGroup</span><span class="p">(</span><span class="nb">int</span> <span class="n">gid</span><span class="p">);</span>
</pre></div>
</div>
<p>参数</p>
<p>gid</p>
<p>​ Type:System.Int32</p>
<p>​ 群组ID</p>
<p>返回值</p>
<p>Type:System.Int32</p>
<p>执行成功标示 0：成功 ，-1：失败</p>
</div>
<div class="section" id="id58">
<h4>通知事件<a class="headerlink" href="#id58" title="永久链接至标题">¶</a></h4>
<p>见 通知事件</p>
</div>
<div class="section" id="id59">
<h4>示例<a class="headerlink" href="#id59" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nb">input</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;Submit22&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;JoinGroup&#39;</span> <span class="n">runat</span><span class="o">=</span><span class="s2">&quot;server&quot;</span>  <span class="n">onclick</span><span class="o">=</span><span class="s2">&quot;JoinGroup()&quot;</span> <span class="o">/&gt;</span>

<span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
    <span class="n">function</span> <span class="n">JoinGroup</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">actx</span><span class="o">.</span><span class="n">JoinGroup</span><span class="p">(</span><span class="mi">600901</span><span class="p">);</span>
    <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="leavegroup">
<h3>LeaveGroup方法()<a class="headerlink" href="#leavegroup" title="永久链接至标题">¶</a></h3>
<p>用户离开当前所在群组</p>
<div class="section" id="id60">
<h4>语法<a class="headerlink" href="#id60" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">public</span> <span class="nb">int</span> <span class="n">LeaveGroup</span><span class="p">();</span>
</pre></div>
</div>
<p>返回值</p>
<p>Type:System.Int32</p>
<p>执行成功标示 0：成功 ，-1：失败</p>
</div>
<div class="section" id="id61">
<h4>通知事件<a class="headerlink" href="#id61" title="永久链接至标题">¶</a></h4>
<p>见 通知事件</p>
</div>
<div class="section" id="id62">
<h4>示例<a class="headerlink" href="#id62" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nb">input</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;Submit23&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;LeaveGroup&#39;</span> <span class="n">runat</span><span class="o">=</span><span class="s2">&quot;server&quot;</span>  <span class="n">onclick</span><span class="o">=</span><span class="s2">&quot;LeaveGroup()&quot;</span> <span class="o">/&gt;</span>

<span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
    <span class="n">function</span> <span class="n">LeaveGroup</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">actx</span><span class="o">.</span><span class="n">LeaveGroup</span><span class="p">();</span>
    <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="call-array">
<h3>Call方法(Array)<a class="headerlink" href="#call-array" title="永久链接至标题">¶</a></h3>
<p>创建临时群组</p>
<div class="section" id="id63">
<h4>语法<a class="headerlink" href="#id63" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span>public int Call(Array uids)；
</pre></div>
</div>
<p>参数</p>
<p>uids</p>
<p>​ Type:System.Array</p>
<p>​ 一维Array，用户ID</p>
<p>返回值</p>
<p>Type:System.Int32</p>
<p>执行成功标示 0：成功 ，-1：失败</p>
</div>
<div class="section" id="id64">
<h4>通知事件<a class="headerlink" href="#id64" title="永久链接至标题">¶</a></h4>
<p>见 通知事件</p>
</div>
<div class="section" id="id65">
<h4>示例<a class="headerlink" href="#id65" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nb">input</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;Submit7&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;Call&#39;</span> <span class="n">runat</span><span class="o">=</span><span class="s2">&quot;server&quot;</span>  <span class="n">onclick</span><span class="o">=</span><span class="s2">&quot;Call()&quot;</span> <span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
  <span class="n">function</span> <span class="n">Call</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">var</span> <span class="n">uids</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Array</span><span class="p">()</span>
    <span class="n">uids</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">50720</span><span class="p">;</span>
    <span class="n">uids</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">50720</span><span class="p">;</span>

    <span class="n">actx</span><span class="o">.</span><span class="n">Call</span><span class="p">(</span><span class="n">uids</span><span class="p">);</span>
    <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="id66">
<h3>销毁临时群组<a class="headerlink" href="#id66" title="永久链接至标题">¶</a></h3>
<p>临时群组创建者退出临时群组即为销毁临时群组。</p>
</div>
<div class="section" id="getgrouplist">
<h3>GetGroupList方法()<a class="headerlink" href="#getgrouplist" title="永久链接至标题">¶</a></h3>
<p>获取当前登录的调度员所在集团的所有群组列表</p>
<div class="section" id="id67">
<h4>语法<a class="headerlink" href="#id67" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">public</span> <span class="n">string</span> <span class="n">GetGroupList</span><span class="p">();</span>
</pre></div>
</div>
<p>返回值</p>
<p>Type: System.String</p>
<p>序列化的 JSON 字符串。</p>
<p>对象：群组实体类 Group参考：群组信息</p>
</div>
<div class="section" id="id68">
<h4>示例<a class="headerlink" href="#id68" title="永久链接至标题">¶</a></h4>
<p>代码示例</p>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nb">input</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;Submit20&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;GetGroupList&#39;</span> <span class="n">runat</span><span class="o">=</span><span class="s2">&quot;server&quot;</span>  <span class="n">onclick</span><span class="o">=</span><span class="s2">&quot;GetGroupList()&quot;</span> <span class="o">/&gt;</span>

<span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
   <span class="n">function</span> <span class="n">GetGroupList</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">actx</span><span class="o">.</span><span class="n">GetGroupList</span><span class="p">();</span>
    <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>返回值示例</p>
</div>
</div>
<div class="section" id="getgroupbygid-int">
<h3>GetGroupByGid方法(int )<a class="headerlink" href="#getgroupbygid-int" title="永久链接至标题">¶</a></h3>
<p>根据GID 查询群组信息</p>
<div class="section" id="id69">
<h4>语法<a class="headerlink" href="#id69" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">public</span> <span class="n">string</span> <span class="n">GetGroupByGid</span><span class="p">(</span><span class="nb">int</span> <span class="n">gid</span><span class="p">);</span>
</pre></div>
</div>
<p>参数</p>
<p>gid</p>
<p>​ Type:System.Int32</p>
<p>​ 群组ID</p>
<p>返回值</p>
<p>Type: System.String</p>
<p>序列化的 JSON 字符串。</p>
<p>对象：群组实体类 Group参考：群组信息</p>
</div>
<div class="section" id="id70">
<h4>示例<a class="headerlink" href="#id70" title="永久链接至标题">¶</a></h4>
<p>代码示例</p>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;Submit20&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;GetGroupByGid&#39;</span> <span class="n">runat</span><span class="o">=</span><span class="s2">&quot;server&quot;</span>  <span class="n">onclick</span><span class="o">=</span><span class="s2">&quot;GetGroupByGid()&quot;</span> <span class="o">/&gt;</span>

<span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
   <span class="n">function</span> <span class="n">GetGroupByGid</span><span class="p">()</span> <span class="p">{</span>
       <span class="n">actx</span><span class="o">.</span><span class="n">GetGroupByGid</span><span class="p">(</span><span class="mi">600901</span><span class="p">);</span>
    <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>返回值示例：</p>
</div>
</div>
<div class="section" id="getcurrentgroup">
<h3>GetCurrentGroup()<a class="headerlink" href="#getcurrentgroup" title="永久链接至标题">¶</a></h3>
<p>获取用户当前所在的群组ID</p>
<div class="section" id="id71">
<h4>语法<a class="headerlink" href="#id71" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">public</span> <span class="nb">int</span> <span class="n">GetCurrentGroup</span><span class="p">();</span>
</pre></div>
</div>
<p>返回值</p>
<p>Type:System.Int32</p>
<p>群组ID</p>
</div>
<div class="section" id="id72">
<h4>示例<a class="headerlink" href="#id72" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nb">input</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;Submit20&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;GetCurrentGroup&#39;</span> <span class="n">runat</span><span class="o">=</span><span class="s2">&quot;server&quot;</span>  <span class="n">onclick</span><span class="o">=</span><span class="s2">&quot;GetCurrentGroup()&quot;</span> <span class="o">/&gt;</span>

<span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
   <span class="n">function</span> <span class="n">GetCurrentGroup</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">actx</span><span class="o">.</span><span class="n">GetCurrentGroup</span><span class="p">();</span>
    <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="getmemberlist-int">
<h3>GetMemberList(Int)<a class="headerlink" href="#getmemberlist-int" title="永久链接至标题">¶</a></h3>
<p>获取成员列表</p>
<div class="section" id="id73">
<h4>语法<a class="headerlink" href="#id73" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">public</span> <span class="n">string</span> <span class="n">GetMemberList</span><span class="p">(</span><span class="nb">int</span> <span class="n">gid</span><span class="p">)</span>
</pre></div>
</div>
<p>参数</p>
<p>gid</p>
<p>​ Type:System.Int32</p>
<p>​ 群组ID</p>
<p>返回值</p>
<p>Type: System.String</p>
<p>序列化的 JSON 字符串。</p>
<p>对象：成员实体类Member参考：成员信息</p>
</div>
<div class="section" id="id74">
<h4>示例<a class="headerlink" href="#id74" title="永久链接至标题">¶</a></h4>
<p>代码示例</p>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;Submit20&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;GetMemberList&#39;</span> <span class="n">runat</span><span class="o">=</span><span class="s2">&quot;server&quot;</span>  <span class="n">onclick</span><span class="o">=</span><span class="s2">&quot;GetMemberList()&quot;</span> <span class="o">/&gt;</span>

<span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
     <span class="n">function</span> <span class="n">GetMemberList</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">actx</span><span class="o">.</span><span class="n">GetMemberList</span><span class="p">(</span><span class="mi">600901</span><span class="p">);</span>
    <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>返回值示例：</p>
</div>
</div>
<div class="section" id="startwatchgroup-int">
<h3>StartWatchGroup(Int)<a class="headerlink" href="#startwatchgroup-int" title="永久链接至标题">¶</a></h3>
<p>监听群组</p>
<div class="section" id="id75">
<h4>语法<a class="headerlink" href="#id75" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">public</span> <span class="nb">int</span> <span class="n">StartWatchGroup</span><span class="p">(</span><span class="nb">int</span> <span class="n">gid</span><span class="p">);</span>
</pre></div>
</div>
<p>参数</p>
<p>gid</p>
<p>​ Type:System.Int32</p>
<p>​ 群组ID</p>
<p>返回值</p>
<p>Type:System.Int32</p>
<p>执行成功标示 0：成功 ，-1：失败</p>
</div>
<div class="section" id="id76">
<h4>示例<a class="headerlink" href="#id76" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;Submit20&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;StartWatchGroup&#39;</span> <span class="n">runat</span><span class="o">=</span><span class="s2">&quot;server&quot;</span>  <span class="n">onclick</span><span class="o">=</span><span class="s2">&quot;StartWatchGroup()&quot;</span> <span class="o">/&gt;</span>

<span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
    <span class="n">function</span> <span class="n">StartWatchGroup</span><span class="p">()</span> <span class="p">{</span>
       <span class="n">actx</span><span class="o">.</span><span class="n">StartWatchGroup</span><span class="p">(</span><span class="mi">600901</span><span class="p">);</span>
    <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>​</p>
</div>
</div>
<div class="section" id="stopwatchgroup-int">
<h3>StopWatchGroup(Int)<a class="headerlink" href="#stopwatchgroup-int" title="永久链接至标题">¶</a></h3>
<p>取消监听群组</p>
<div class="section" id="id77">
<h4>语法<a class="headerlink" href="#id77" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">public</span> <span class="n">String</span> <span class="n">StopWatchGroup</span><span class="p">(</span><span class="nb">int</span> <span class="n">gid</span><span class="p">);</span>
</pre></div>
</div>
<p>参数</p>
<p>gid</p>
<p>​ Type:System.Int32</p>
<p>​ 群组ID</p>
<p>返回值</p>
<p>Type: System.String</p>
<p>序列化的 JSON 字符串。</p>
<p>对象：群组实体类Group参考：群组信息</p>
</div>
<div class="section" id="id78">
<h4>示例<a class="headerlink" href="#id78" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;Submit20&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;StopWatchGroup&#39;</span> <span class="n">runat</span><span class="o">=</span><span class="s2">&quot;server&quot;</span>  <span class="n">onclick</span><span class="o">=</span><span class="s2">&quot;StopWatchGroup()&quot;</span> <span class="o">/&gt;</span>

<span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
     <span class="n">function</span> <span class="n">StopWatchGroup</span><span class="p">()</span> <span class="p">{</span>
       <span class="n">actx</span><span class="o">.</span><span class="n">StopWatchGroup</span><span class="p">(</span><span class="mi">600901</span><span class="p">);</span>

<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
<hr class="docutils" />
<div id="onCurrentGroup"><p>onCurrentGroupX事件</p>
</div><p>当前所在群组变化通知</p>
</div>
<div class="section" id="id79">
<h4>语法<a class="headerlink" href="#id79" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">onCurrentGroupX</span><span class="p">(</span><span class="nb">object</span> <span class="n">gid</span><span class="p">,</span> <span class="nb">object</span> <span class="n">group_name</span><span class="p">);</span>
</pre></div>
</div>
<p>参数</p>
<p>​ gid</p>
<p>​ Type: System.Object</p>
<p>​ 群组ID</p>
<p>group_name</p>
<p>​ Type: System.Object</p>
<p>​ 群组名称</p>
</div>
<div class="section" id="id80">
<h4>示例<a class="headerlink" href="#id80" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;myAcX&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span> <span class="n">event</span><span class="o">=</span><span class="s2">&quot;onCurrentGroupX(gid,group_name)&quot;</span><span class="o">&gt;</span>
    <span class="n">alert</span><span class="p">(</span><span class="s2">&quot;onCurrentGroupX:gid &quot;</span> <span class="o">+</span> <span class="n">gid</span> <span class="o">+</span> <span class="s2">&quot;  group_name:&quot;</span> <span class="o">+</span> <span class="n">group_name</span><span class="p">);</span>
    <span class="o">//</span><span class="n">更新成员列表</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
<hr class="docutils" />
<div id="onMemberChanged"><p>onMemberChangedX事件</p>
</div><p>群组成员发生变化通知</p>
<ul class="simple">
<li>被动触发条件</li>
</ul>
<p>​ 其他成员进入所在的组时</p>
<p>​ 其他成员在自身所在的组下线时</p>
<p>​ 切换群组时</p>
<ul class="simple">
<li>主动触发</li>
</ul>
<p>​ 进组</p>
<p>​ 离开群组</p>
<p>​ 创建临时组</p>
</div>
<div class="section" id="id81">
<h4>语法<a class="headerlink" href="#id81" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">onMemberChangedX</span><span class="p">(</span><span class="nb">object</span> <span class="n">value</span><span class="p">);</span>
</pre></div>
</div>
<p>参数</p>
<p>value</p>
<p>​ Type：System.String</p>
<p>​ 序列化的 JSON 字符串。</p>
<p>​ 对象：群组成员变化实体类 MemberChanged 参考 ： 群组成员变化</p>
</div>
<div class="section" id="id82">
<h4>示例<a class="headerlink" href="#id82" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;myAcX&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span> <span class="n">event</span><span class="o">=</span><span class="s2">&quot;onMemberChangedX(val)&quot;</span><span class="o">&gt;</span>
    <span class="n">alert</span><span class="p">(</span><span class="s2">&quot;onMemberChangedX&quot;</span> <span class="o">+</span> <span class="n">val</span><span class="p">);</span>

<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
<hr class="docutils" />
<div id="onMemberList"><p>onMemberListX事件</p>
</div><p>成员列表获取完毕</p>
</div>
<div class="section" id="id83">
<h4>语法<a class="headerlink" href="#id83" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">onMemberListX</span><span class="p">(</span><span class="nb">object</span> <span class="n">gid</span><span class="p">);</span>
</pre></div>
</div>
<p>参数</p>
<p>​ gid</p>
<p>​ Type: System.Object</p>
<p>​ 群组ID</p>
</div>
<div class="section" id="id84">
<h4>示例<a class="headerlink" href="#id84" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;myAcX&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span> <span class="n">event</span><span class="o">=</span><span class="s2">&quot;onMemberListX(gid)&quot;</span><span class="o">&gt;</span>
    <span class="n">alert</span><span class="p">(</span><span class="s2">&quot;onMemberListX&quot;</span> <span class="o">+</span> <span class="n">gid</span> <span class="p">);</span>
    <span class="o">//</span><span class="n">更新成员列表</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
<hr class="docutils" />
<div id="onGroupList"><p>onGroupListX事件</p>
</div><p>群组列表发生变化通知</p>
</div>
<div class="section" id="id85">
<h4>语法<a class="headerlink" href="#id85" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">onGroupListX</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="section" id="id86">
<h4>示例<a class="headerlink" href="#id86" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;myAcX&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span> <span class="n">event</span><span class="o">=</span><span class="s2">&quot;onGroupListX()&quot;</span><span class="o">&gt;</span>
    <span class="n">alert</span><span class="p">(</span><span class="s2">&quot;onGroupListX&quot;</span><span class="p">);</span>
     <span class="o">//</span> <span class="n">刷新群组列表</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id87">
<h2>对讲<a class="headerlink" href="#id87" title="永久链接至标题">¶</a></h2>
<div class="section" id="startspeak">
<h3>StartSpeak方法()<a class="headerlink" href="#startspeak" title="永久链接至标题">¶</a></h3>
<p>抢麦 - 获取话权</p>
<div class="section" id="id88">
<h4>语法<a class="headerlink" href="#id88" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">public</span> <span class="nb">int</span> <span class="n">StartSpeak</span><span class="p">();</span>
</pre></div>
</div>
<p>返回值</p>
<p>Type:System.Int32</p>
<p>执行成功标示 0：成功 ，-1：失败</p>
</div>
<div class="section" id="id89">
<h4>通知事件<a class="headerlink" href="#id89" title="永久链接至标题">¶</a></h4>
<p>见 onStartSpeakX事件</p>
</div>
<div class="section" id="id90">
<h4>示例<a class="headerlink" href="#id90" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nb">input</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;Submit20&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;StartSpeak&#39;</span> <span class="n">runat</span><span class="o">=</span><span class="s2">&quot;server&quot;</span>  <span class="n">onclick</span><span class="o">=</span><span class="s2">&quot;StartSpeak()&quot;</span> <span class="o">/&gt;</span>

<span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
   <span class="n">function</span> <span class="n">StartSpeak</span><span class="p">()</span> <span class="p">{</span>
       <span class="n">actx</span><span class="o">.</span><span class="n">StartSpeak</span><span class="p">();</span>
    <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="stopspeak">
<h3>StopSpeak方法()<a class="headerlink" href="#stopspeak" title="永久链接至标题">¶</a></h3>
<p>放麦 - 释放话权</p>
<div class="section" id="id91">
<h4>语法<a class="headerlink" href="#id91" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span>public int StopSpeak()；
</pre></div>
</div>
<p>返回值</p>
<p>Type:System.Int32</p>
<p>执行成功标示 0：成功 ，-1：失败</p>
</div>
<div class="section" id="id92">
<h4>通知事件<a class="headerlink" href="#id92" title="永久链接至标题">¶</a></h4>
<p>见 onStopSpeakX事件</p>
</div>
<div class="section" id="id93">
<h4>示例<a class="headerlink" href="#id93" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;Submit20&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;StopSpeak&#39;</span> <span class="n">runat</span><span class="o">=</span><span class="s2">&quot;server&quot;</span>  <span class="n">onclick</span><span class="o">=</span><span class="s2">&quot;StopSpeak()&quot;</span> <span class="o">/&gt;</span>

<span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
   <span class="n">function</span> <span class="n">StopSpeak</span><span class="p">()</span> <span class="p">{</span>
       <span class="n">actx</span><span class="o">.</span><span class="n">StopSpeak</span><span class="p">();</span>
    <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="getplayingsounduser">
<h3>GetPlayingSoundUser方法()<a class="headerlink" href="#getplayingsounduser" title="永久链接至标题">¶</a></h3>
<p>获取正在播放声音的人的user信息</p>
<div class="section" id="id94">
<h4>语法<a class="headerlink" href="#id94" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span>public string GetPlayingSoundUser()；
</pre></div>
</div>
<p>返回值</p>
<p>Type: System.String</p>
<p>序列化的 JSON 字符串。</p>
<p>对象：用户实体类User参考：用户信息</p>
</div>
<div class="section" id="id95">
<h4>示例<a class="headerlink" href="#id95" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;Submit20&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;GetPlayingSoundUser&#39;</span> <span class="n">runat</span><span class="o">=</span><span class="s2">&quot;server&quot;</span>  <span class="n">onclick</span><span class="o">=</span><span class="s2">&quot;GetPlayingSoundUser()&quot;</span> <span class="o">/&gt;</span>

<span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
   <span class="n">function</span> <span class="n">GetPlayingSoundUser</span><span class="p">()</span> <span class="p">{</span>
       <span class="n">actx</span><span class="o">.</span><span class="n">GetPlayingSoundUser</span><span class="p">();</span>
    <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>返回数据示例：</p>
<div class="code json highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s2">&quot;gid&quot;</span><span class="p">:</span><span class="mi">600901</span><span class="p">,</span><span class="s2">&quot;uid&quot;</span><span class="p">:</span><span class="mi">50711</span><span class="p">,</span><span class="s2">&quot;role&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;online&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;has_gid&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;has_role&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;audio_enable&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;账号01&quot;</span><span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="getspeakingusers">
<h3>GetSpeakingUsers方法()<a class="headerlink" href="#getspeakingusers" title="永久链接至标题">¶</a></h3>
<p>获取正在讲话的人的user信息（不一定是正在播放的，对于多群组而言)</p>
<div class="section" id="id96">
<h4>语法<a class="headerlink" href="#id96" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">public</span> <span class="n">string</span> <span class="n">GetSpeakingUsers</span><span class="p">();</span>
</pre></div>
</div>
<p>返回值</p>
<p>Type: System.String</p>
<p>序列化的 JSON 字符串。</p>
<p>对象：用户实体类User集合参考：用户信息</p>
</div>
<div class="section" id="id97">
<h4>示例<a class="headerlink" href="#id97" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;Submit20&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;GetSpeakingUsers&#39;</span> <span class="n">runat</span><span class="o">=</span><span class="s2">&quot;server&quot;</span>  <span class="n">onclick</span><span class="o">=</span><span class="s2">&quot;GetSpeakingUsers()&quot;</span> <span class="o">/&gt;</span>

<span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
    <span class="n">function</span> <span class="n">GetSpeakingUsers</span><span class="p">()</span> <span class="p">{</span>
       <span class="n">actx</span><span class="o">.</span><span class="n">GetSpeakingUsers</span><span class="p">();</span>
    <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>返回数据示例</p>
<div class="code json highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[{</span><span class="s2">&quot;gid&quot;</span><span class="p">:</span><span class="mi">600901</span><span class="p">,</span><span class="s2">&quot;uid&quot;</span><span class="p">:</span><span class="mi">50711</span><span class="p">,</span><span class="s2">&quot;role&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;online&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;has_gid&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;has_role&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;audio_enable&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;账号01&quot;</span><span class="p">},{</span><span class="s2">&quot;gid&quot;</span><span class="p">:</span><span class="mi">600901</span><span class="p">,</span><span class="s2">&quot;uid&quot;</span><span class="p">:</span><span class="mi">50712</span><span class="p">,</span><span class="s2">&quot;role&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;online&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;has_gid&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;has_role&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;audio_enable&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;账号02&quot;</span><span class="p">}]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="isspeaking">
<h3>IsSpeaking方法()<a class="headerlink" href="#isspeaking" title="永久链接至标题">¶</a></h3>
<p>自己当前是否正在讲话</p>
<div class="section" id="id98">
<h4>语法<a class="headerlink" href="#id98" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">public</span> <span class="nb">bool</span> <span class="n">IsSpeaking</span><span class="p">();</span>
</pre></div>
</div>
<p>返回值</p>
<p>Type:System.Boolean</p>
<p>成功标示 true：在说话 ，false：没有说话</p>
</div>
<div class="section" id="id99">
<h4>示例<a class="headerlink" href="#id99" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;Submit20&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;IsSpeaking&#39;</span> <span class="n">runat</span><span class="o">=</span><span class="s2">&quot;server&quot;</span>  <span class="n">onclick</span><span class="o">=</span><span class="s2">&quot;IsSpeaking()&quot;</span> <span class="o">/&gt;</span>

<span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
   <span class="n">function</span> <span class="n">IsSpeaking</span><span class="p">()</span> <span class="p">{</span>
      <span class="n">var</span> <span class="n">result</span> <span class="o">=</span> <span class="n">actx</span><span class="o">.</span><span class="n">IsSpeaking</span><span class="p">();</span>
     <span class="k">if</span><span class="p">(</span><span class="n">result</span><span class="p">){</span>
       <span class="o">//</span><span class="n">正在讲话</span>
     <span class="p">}</span><span class="k">else</span><span class="p">{</span>
       <span class="o">//</span><span class="n">没有讲话</span>
     <span class="p">}</span>
    <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="islistening">
<h3>IsListening()<a class="headerlink" href="#islistening" title="永久链接至标题">¶</a></h3>
<p>自己当前是否正收听语音</p>
<div class="section" id="id100">
<h4>语法<a class="headerlink" href="#id100" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">public</span> <span class="nb">bool</span> <span class="n">IsListening</span><span class="p">();</span>
</pre></div>
</div>
<p>返回值</p>
<p>Type:System.Boolean</p>
<p>成功标示 true：在说话 ，false：没有说话</p>
</div>
<div class="section" id="id101">
<h4>示例<a class="headerlink" href="#id101" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;Submit20&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;IsListening&#39;</span> <span class="n">runat</span><span class="o">=</span><span class="s2">&quot;server&quot;</span>  <span class="n">onclick</span><span class="o">=</span><span class="s2">&quot;IsListening()&quot;</span> <span class="o">/&gt;</span>

<span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
    <span class="n">function</span> <span class="n">IsListening</span><span class="p">()</span> <span class="p">{</span>
      <span class="n">var</span> <span class="n">result</span> <span class="o">=</span> <span class="n">actx</span><span class="o">.</span><span class="n">IsListening</span><span class="p">();</span>
     <span class="k">if</span><span class="p">(</span><span class="n">result</span><span class="p">){</span>
       <span class="o">//</span><span class="n">正在讲话</span>
     <span class="p">}</span><span class="k">else</span><span class="p">{</span>
       <span class="o">//</span><span class="n">没有讲话</span>
     <span class="p">}</span>
    <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
<hr class="docutils" />
<div id="startSpeak"><p>onStartSpeakX事件</p>
</div><p>抢麦通知</p>
<ul class="simple">
<li>主动触发条件</li>
</ul>
<p>​ 调用StartSpeak()方法</p>
</div>
<div class="section" id="id102">
<h4>语法<a class="headerlink" href="#id102" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">onStartSpeakX</span><span class="p">(</span><span class="nb">object</span> <span class="n">gid</span><span class="p">,</span> <span class="nb">object</span> <span class="n">group_name</span><span class="p">);</span>
</pre></div>
</div>
<p>参数</p>
<p>gid</p>
<p>​ Type: System.Object</p>
<p>​ 当前讲话者所在的群组ID</p>
<p>group_name</p>
<p>​ Type: System.Object</p>
<p>​ 当前讲话者所在的群组名称</p>
</div>
<div class="section" id="id103">
<h4>示例<a class="headerlink" href="#id103" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;myAcX&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span> <span class="n">event</span><span class="o">=</span><span class="s2">&quot;onStartSpeakX(gid,group_name)&quot;</span><span class="o">&gt;</span>
    <span class="n">alert</span><span class="p">(</span><span class="s2">&quot;onStartSpeakX  gid:&quot;</span> <span class="o">+</span> <span class="n">gid</span> <span class="o">+</span> <span class="s2">&quot; group_name:&quot;</span> <span class="o">+</span> <span class="n">group_name</span><span class="p">);</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
<hr class="docutils" />
<div id="stopSpeak"><p>onStopSpeakX事件</p>
</div><p>放麦通知</p>
<ul class="simple">
<li>主动触发条件</li>
</ul>
<p>​ 调用StopSpeak()方法</p>
<ul class="simple">
<li>被动触发事件</li>
</ul>
<p>​ 讲话超时被摘麦</p>
</div>
<div class="section" id="id104">
<h4>语法<a class="headerlink" href="#id104" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">onStopSpeakX</span><span class="p">(</span><span class="nb">object</span> <span class="n">gid</span><span class="p">,</span> <span class="nb">object</span> <span class="n">group_name</span><span class="p">);</span>
</pre></div>
</div>
<p>参数</p>
<p>gid</p>
<p>​ Type: System.Object</p>
<p>​ 当前讲话者所在的群组ID</p>
<p>group_name</p>
<p>​ Type: System.Object</p>
<p>​ 当前讲话者所在的群组名称</p>
</div>
<div class="section" id="id105">
<h4>示例<a class="headerlink" href="#id105" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;myAcX&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span> <span class="n">event</span><span class="o">=</span><span class="s2">&quot;onStopSpeakX(gid,group_name)&quot;</span><span class="o">&gt;</span>
    <span class="n">alert</span><span class="p">(</span><span class="s2">&quot;onStopSpeakX gid:&quot;</span> <span class="o">+</span> <span class="n">gid</span> <span class="o">+</span> <span class="s2">&quot; group_name:&quot;</span> <span class="o">+</span> <span class="n">group_name</span><span class="p">);</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
<hr class="docutils" />
<div id="onStartPlay"><p>onStartPlayingX事件</p>
</div><p>开始播放讲话者事件通知</p>
</div>
<div class="section" id="id106">
<h4>语法<a class="headerlink" href="#id106" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">onStartPlayingX</span><span class="p">(</span><span class="nb">object</span> <span class="n">uid</span><span class="p">,</span> <span class="nb">object</span> <span class="n">name</span><span class="p">,</span> <span class="nb">object</span> <span class="n">gid</span><span class="p">,</span> <span class="nb">object</span> <span class="n">group_name</span><span class="p">);</span>
</pre></div>
</div>
<p>参数</p>
<p>uid</p>
<p>​ Type: System.Object</p>
<p>​ 讲话者ID</p>
<p>name</p>
<p>​ Type: System.Object</p>
<p>​ 讲话者名称</p>
<p>gid</p>
<p>​ Type: System.Object</p>
<p>​ 群组ID</p>
<p>group_name</p>
<p>​ Type: System.Object</p>
<p>​ 群组名称</p>
</div>
<div class="section" id="id107">
<h4>示例<a class="headerlink" href="#id107" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;myAcX&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span> <span class="n">event</span><span class="o">=</span><span class="s2">&quot;onStartPlayingX(uid,name,gid,group_name)&quot;</span><span class="o">&gt;</span>
    <span class="n">alert</span><span class="p">(</span><span class="s2">&quot;onStartPlayingX  uid:&quot;</span> <span class="o">+</span> <span class="n">uid</span> <span class="o">+</span> <span class="s2">&quot; name:&quot;</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;  gid:&quot;</span> <span class="o">+</span> <span class="n">gid</span> <span class="o">+</span> <span class="s2">&quot;  group_name:&quot;</span> <span class="o">+</span> <span class="n">group_name</span><span class="p">);</span>

<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
<hr class="docutils" />
<div id="onStopPlay"><p>onStopPlayingX事件</p>
</div><p>停止播放讲话者事件通知</p>
</div>
<div class="section" id="id108">
<h4>语法<a class="headerlink" href="#id108" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">onStopPlayingX</span><span class="p">(</span><span class="nb">object</span> <span class="n">uid</span><span class="p">,</span> <span class="nb">object</span> <span class="n">name</span><span class="p">,</span> <span class="nb">object</span> <span class="n">gid</span><span class="p">,</span> <span class="nb">object</span> <span class="n">group_name</span><span class="p">);</span>
</pre></div>
</div>
<p>参数</p>
<p>uid</p>
<p>​ Type: System.Object</p>
<p>​ 讲话者ID</p>
<p>name</p>
<p>​ Type: System.Object</p>
<p>​ 讲话者名称</p>
<p>gid</p>
<p>​ Type: System.Object</p>
<p>​ 群组ID</p>
<p>group_name</p>
<p>​ Type: System.Object</p>
<p>​ 群组名称</p>
</div>
<div class="section" id="id109">
<h4>示例<a class="headerlink" href="#id109" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;myAcX&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span> <span class="n">event</span><span class="o">=</span><span class="s2">&quot;onStopPlayingX(uid,name,gid,group_name)&quot;</span><span class="o">&gt;</span>
    <span class="n">alert</span><span class="p">(</span><span class="s2">&quot;onStopPlayingX uid:&quot;</span> <span class="o">+</span> <span class="n">uid</span> <span class="o">+</span> <span class="s2">&quot; name:&quot;</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;  gid:&quot;</span> <span class="o">+</span> <span class="n">gid</span> <span class="o">+</span> <span class="s2">&quot;  group_name:&quot;</span> <span class="o">+</span> <span class="n">group_name</span><span class="p">);</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
<hr class="docutils" />
<div id="onUserStartSpeak"><p>onUserStartSpeakX事件</p>
</div><p>调度员所在群组里，其他成员抢麦成功事件通知</p>
</div>
<div class="section" id="id110">
<h4>语法<a class="headerlink" href="#id110" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">onUserStartSpeakX</span><span class="p">(</span><span class="nb">object</span> <span class="n">uid</span><span class="p">,</span> <span class="nb">object</span> <span class="n">name</span><span class="p">,</span> <span class="nb">object</span> <span class="n">gid</span><span class="p">,</span> <span class="nb">object</span> <span class="n">group_name</span><span class="p">);</span>
</pre></div>
</div>
<p>参数</p>
<p>uid</p>
<p>​ Type: System.Object</p>
<p>​ 讲话者ID</p>
<p>name</p>
<p>​ Type: System.Object</p>
<p>​ 讲话者名称</p>
<p>gid</p>
<p>​ Type: System.Object</p>
<p>​ 群组ID</p>
<p>group_name</p>
<p>​ Type: System.Object</p>
<p>​ 群组名称</p>
</div>
<div class="section" id="id111">
<h4>示例<a class="headerlink" href="#id111" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;myAcX&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span> <span class="n">event</span><span class="o">=</span><span class="s2">&quot;onUserStartSpeakX(uid,name,gid,group_name)&quot;</span><span class="o">&gt;</span>
    <span class="n">alert</span><span class="p">(</span><span class="s2">&quot;onUserStartSpeakX uid:&quot;</span> <span class="o">+</span> <span class="n">uid</span> <span class="o">+</span> <span class="s2">&quot; name:&quot;</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;  gid:&quot;</span> <span class="o">+</span> <span class="n">gid</span> <span class="o">+</span> <span class="s2">&quot;  group_name:&quot;</span> <span class="o">+</span> <span class="n">group_name</span><span class="p">);</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
<hr class="docutils" />
<div id="onUserStopSpeak"><p>onUserStopSpeakX事件</p>
</div><p>调度员所在群组里，其他成员放麦事件通知</p>
</div>
<div class="section" id="id112">
<h4>语法<a class="headerlink" href="#id112" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">onUserStopSpeakX</span><span class="p">(</span><span class="nb">object</span> <span class="n">uid</span><span class="p">,</span> <span class="nb">object</span> <span class="n">name</span><span class="p">,</span> <span class="nb">object</span> <span class="n">gid</span><span class="p">,</span> <span class="nb">object</span> <span class="n">group_name</span><span class="p">);</span>
</pre></div>
</div>
<p>参数</p>
<p>uid</p>
<p>​ Type: System.Object</p>
<p>​ 讲话者ID</p>
<p>name</p>
<p>​ Type: System.Object</p>
<p>​ 讲话者名称</p>
<p>gid</p>
<p>​ Type: System.Object</p>
<p>​ 群组ID</p>
<p>group_name</p>
<p>​ Type: System.Object</p>
<p>​ 群组名称</p>
</div>
<div class="section" id="id113">
<h4>示例<a class="headerlink" href="#id113" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;myAcX&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span> <span class="n">event</span><span class="o">=</span><span class="s2">&quot;onUserStopSpeakX(uid,name,gid,group_name)&quot;</span><span class="o">&gt;</span>
    <span class="n">alert</span><span class="p">(</span><span class="s2">&quot;onUserStopSpeakX uid:&quot;</span> <span class="o">+</span> <span class="n">uid</span> <span class="o">+</span> <span class="s2">&quot; name:&quot;</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;  gid:&quot;</span> <span class="o">+</span> <span class="n">gid</span> <span class="o">+</span> <span class="s2">&quot;  group_name:&quot;</span> <span class="o">+</span> <span class="n">group_name</span><span class="p">);</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id114">
<h2>广播<a class="headerlink" href="#id114" title="永久链接至标题">¶</a></h2>
<div class="section" id="sendtextbroadcast-string-array">
<h3>SendTextBroadcast方法(string , Array)<a class="headerlink" href="#sendtextbroadcast-string-array" title="永久链接至标题">¶</a></h3>
<p>发送文字广播</p>
<div class="section" id="id115">
<h4>语法<a class="headerlink" href="#id115" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">public</span> <span class="nb">int</span> <span class="n">SendTextBroadcast</span><span class="p">(</span><span class="n">string</span> <span class="n">text</span><span class="p">,</span> <span class="n">Array</span> <span class="n">uids</span><span class="p">)</span>
</pre></div>
</div>
<p>参数</p>
<p>text</p>
<p>​ Type:System.String</p>
<p>​ 文字信息（文字长度1-40个字符）</p>
<p>uids</p>
<p>​ Type:System.Array</p>
<p>​ 一维Array，收听广播的用户ID集合</p>
<p>返回值</p>
<p>Type:System.Int32</p>
<p>执行成功标示 0：成功 ，-1：失败</p>
</div>
<div class="section" id="id116">
<h4>通知事件<a class="headerlink" href="#id116" title="永久链接至标题">¶</a></h4>
<p>见 onSendedX事件</p>
</div>
<div class="section" id="id117">
<h4>示例<a class="headerlink" href="#id117" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;Submit20&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;SendTextBroadcast&#39;</span> <span class="n">runat</span><span class="o">=</span><span class="s2">&quot;server&quot;</span>  <span class="n">onclick</span><span class="o">=</span><span class="s2">&quot;SendTextBroadcast()&quot;</span> <span class="o">/&gt;</span>

<span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
    <span class="n">function</span> <span class="n">SendTextBroadcast</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">var</span> <span class="n">uids</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Array</span><span class="p">()</span>
        <span class="n">uids</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">50720</span><span class="p">;</span>
        <span class="n">uids</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">50720</span><span class="p">;</span>
        <span class="n">actx</span><span class="o">.</span><span class="n">SendTextBroadcast</span><span class="p">(</span><span class="s2">&quot;文字广播测试&quot;</span><span class="p">,</span> <span class="n">uids</span><span class="p">);</span>
    <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="startrecordbroadcastaudio">
<h3>StartRecordBroadcastAudio方法()<a class="headerlink" href="#startrecordbroadcastaudio" title="永久链接至标题">¶</a></h3>
<p>开始录制音频文件</p>
<div class="section" id="id118">
<h4>语法<a class="headerlink" href="#id118" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">public</span> <span class="nb">int</span> <span class="n">StartRecordBroadcastAudio</span><span class="p">()</span>
</pre></div>
</div>
<p>返回值</p>
<p>Type:System.Int32</p>
<p>执行成功标示 0：成功 ，-1：失败</p>
</div>
<div class="section" id="id119">
<h4>示例<a class="headerlink" href="#id119" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;Submit20&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;StartRecordBroadcastAudio&#39;</span> <span class="n">runat</span><span class="o">=</span><span class="s2">&quot;server&quot;</span>  <span class="n">onclick</span><span class="o">=</span><span class="s2">&quot;StartRecordBroadcastAudio()&quot;</span> <span class="o">/&gt;</span>

<span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
    <span class="n">function</span> <span class="n">StartRecordBroadcastAudio</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">actx</span><span class="o">.</span><span class="n">StartRecordBroadcastAudio</span><span class="p">();</span>
    <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="stoprecordbroadcastaudio">
<h3>StopRecordBroadcastAudio方法()<a class="headerlink" href="#stoprecordbroadcastaudio" title="永久链接至标题">¶</a></h3>
<p>停止录制音频文件</p>
<div class="section" id="id120">
<h4>语法<a class="headerlink" href="#id120" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">public</span> <span class="nb">int</span> <span class="n">StopRecordBroadcastAudio</span><span class="p">()</span>
</pre></div>
</div>
<p>返回值</p>
<p>Type:System.Int32</p>
<p>执行成功标示 0：成功 ，-1：失败</p>
</div>
<div class="section" id="id121">
<h4>示例<a class="headerlink" href="#id121" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;Submit20&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;StopRecordBroadcastAudio&#39;</span> <span class="n">runat</span><span class="o">=</span><span class="s2">&quot;server&quot;</span>  <span class="n">onclick</span><span class="o">=</span><span class="s2">&quot;StopRecordBroadcastAudio()&quot;</span> <span class="o">/&gt;</span>

<span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
    <span class="n">function</span> <span class="n">StopRecordBroadcastAudio</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">actx</span><span class="o">.</span><span class="n">StopRecordBroadcastAudio</span><span class="p">();</span>
    <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="sendaudiobroadcast-array">
<h3>SendAudioBroadcast(Array)<a class="headerlink" href="#sendaudiobroadcast-array" title="永久链接至标题">¶</a></h3>
<p>发送语音广播</p>
<div class="section" id="id122">
<h4>语法<a class="headerlink" href="#id122" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">public</span> <span class="nb">int</span> <span class="n">SendAudioBroadcast</span><span class="p">(</span><span class="n">Array</span> <span class="n">uids</span><span class="p">)</span>
</pre></div>
</div>
<p>参数</p>
<p>uids</p>
<p>​ Type:System.Array</p>
<p>​ 一维Array，收听广播的用户ID集合</p>
<p>返回值</p>
<p>Type:System.Int32</p>
<p>执行成功标示 0：成功 ，-1：失败</p>
</div>
<div class="section" id="id123">
<h4>通知事件<a class="headerlink" href="#id123" title="永久链接至标题">¶</a></h4>
<p>见 onSendedX事件</p>
</div>
<div class="section" id="id124">
<h4>示例<a class="headerlink" href="#id124" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;Submit20&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;SendAudioBroadcast&#39;</span> <span class="n">runat</span><span class="o">=</span><span class="s2">&quot;server&quot;</span>  <span class="n">onclick</span><span class="o">=</span><span class="s2">&quot;SendAudioBroadcast()&quot;</span> <span class="o">/&gt;</span>

<span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
    <span class="n">function</span> <span class="n">SendAudioBroadcast</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">var</span> <span class="n">uids</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Array</span><span class="p">()</span>
        <span class="n">uids</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">50720</span><span class="p">;</span>
        <span class="n">uids</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">50720</span><span class="p">;</span>
       <span class="n">actx</span><span class="o">.</span><span class="n">SendAudioBroadcast</span><span class="p">(</span><span class="n">uids</span><span class="p">);</span>
    <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="playrecordbroadcastaudio">
<h3>PlayRecordBroadcastAudio方法()<a class="headerlink" href="#playrecordbroadcastaudio" title="永久链接至标题">¶</a></h3>
<p>播放已录制的待播放音频文件</p>
<div class="section" id="id125">
<h4>语法<a class="headerlink" href="#id125" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">public</span> <span class="nb">int</span> <span class="n">PlayRecordBroadcastAudio</span><span class="p">()</span>
</pre></div>
</div>
<p>返回值</p>
<p>Type:System.Int32</p>
<p>执行成功标示 0：成功 ，-1：失败</p>
</div>
<div class="section" id="id126">
<h4>通知事件<a class="headerlink" href="#id126" title="永久链接至标题">¶</a></h4>
<p>见 OnPlayStopX事件</p>
</div>
<div class="section" id="id127">
<h4>示例<a class="headerlink" href="#id127" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;Submit20&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;PlayRecordBroadcastAudio&#39;</span> <span class="n">runat</span><span class="o">=</span><span class="s2">&quot;server&quot;</span>  <span class="n">onclick</span><span class="o">=</span><span class="s2">&quot;PlayRecordBroadcastAudio()&quot;</span> <span class="o">/&gt;</span>

<span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
    <span class="n">function</span> <span class="n">PlayRecordBroadcastAudio</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">actx</span><span class="o">.</span><span class="n">PlayRecordBroadcastAudio</span><span class="p">();</span>
    <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
<hr class="docutils" />
<div id="onSend"><p>onSendedX事件</p>
</div><p>发送广播结果响应事件</p>
<ul class="simple">
<li>主动触发条件 执行 SendAudioBroadcast 方法</li>
</ul>
<p>执行SendTextBroadcast方法</p>
</div>
<div class="section" id="id128">
<h4>语法<a class="headerlink" href="#id128" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">onSendedX</span><span class="p">(</span><span class="nb">object</span> <span class="n">success</span><span class="p">);</span>
</pre></div>
</div>
<p>参数</p>
<p>success：</p>
<p>​ Type:System.Object</p>
<p>​ ture:发送成功 false:发送失败</p>
</div>
<div class="section" id="id129">
<h4>示例<a class="headerlink" href="#id129" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;myAcX&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span> <span class="n">event</span><span class="o">=</span><span class="s2">&quot;onSendedX(success)&quot;</span><span class="o">&gt;</span>
    <span class="n">alert</span><span class="p">(</span><span class="s2">&quot;onSendedX  &quot;</span> <span class="o">+</span> <span class="n">success</span><span class="p">);</span>
    <span class="k">if</span><span class="p">(</span><span class="n">success</span><span class="p">)</span> <span class="p">{</span>
      <span class="o">//</span><span class="n">发送成功</span>
    <span class="p">}</span><span class="k">else</span><span class="p">{</span>
      <span class="o">//</span><span class="n">发送失败</span>
    <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
<hr class="docutils" />
<div id="OnPlayStop"><p>OnPlayStopX事件</p>
</div><p>录音结束回调</p>
<ul class="simple">
<li>主动触发条件</li>
</ul>
<p>​ 执行 PlayRecordBroadcastAudio 方法</p>
</div>
<div class="section" id="id130">
<h4>语法<a class="headerlink" href="#id130" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">OnPlayStopX</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="section" id="id131">
<h4>示例<a class="headerlink" href="#id131" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;myAcX&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span> <span class="n">event</span><span class="o">=</span><span class="s2">&quot;OnPlayStopX()&quot;</span><span class="o">&gt;</span>
    <span class="o">//</span><span class="n">调用发送广播方法</span>

<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id132">
<h2>调度<a class="headerlink" href="#id132" title="永久链接至标题">¶</a></h2>
<div class="section" id="tempjoingroup-int-array">
<h3>TempJoinGroup方法(Int,Array)<a class="headerlink" href="#tempjoingroup-int-array" title="永久链接至标题">¶</a></h3>
<p>将在线的用户临时加入到指定的群组中</p>
<div class="section" id="id133">
<h4>语法<a class="headerlink" href="#id133" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">public</span> <span class="nb">int</span> <span class="n">TempJoinGroup</span><span class="p">(</span><span class="nb">int</span> <span class="n">gid</span><span class="p">,</span> <span class="n">Array</span> <span class="n">uids</span><span class="p">)</span>
</pre></div>
</div>
<p>参数</p>
<p>gid</p>
<p>​ Type:System.Int32</p>
<p>​ 群组ID</p>
<p>uids</p>
<p>​ Type:System.Array</p>
<p>​ 一维Array，用户ID集合</p>
<p>返回值</p>
<p>Type:System.Int32</p>
<p>执行成功标示 0：成功 ，-1：失败</p>
</div>
<div class="section" id="id134">
<h4>示例<a class="headerlink" href="#id134" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;Submit20&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;TempJoinGroup&#39;</span> <span class="n">runat</span><span class="o">=</span><span class="s2">&quot;server&quot;</span>  <span class="n">onclick</span><span class="o">=</span><span class="s2">&quot;TempJoinGroup()&quot;</span> <span class="o">/&gt;</span>

<span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
    <span class="n">function</span> <span class="n">TempJoinGroup</span><span class="p">()</span> <span class="p">{</span>
       <span class="n">var</span> <span class="n">uids</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Array</span><span class="p">()</span>
        <span class="n">uids</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">50720</span><span class="p">;</span>
        <span class="n">uids</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">50720</span><span class="p">;</span>
        <span class="n">actx</span><span class="o">.</span><span class="n">TempJoinGroup</span><span class="p">(</span><span class="mi">600901</span><span class="p">,</span> <span class="n">uids</span><span class="p">);</span>
    <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="templeavegroup-int-array">
<h3>TempLeaveGroup(Int, Array)<a class="headerlink" href="#templeavegroup-int-array" title="永久链接至标题">¶</a></h3>
<p>临时移出组</p>
<div class="section" id="id135">
<h4>语法<a class="headerlink" href="#id135" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">public</span> <span class="nb">int</span> <span class="n">TempLeaveGroup</span><span class="p">(</span><span class="nb">int</span> <span class="n">gid</span><span class="p">,</span> <span class="n">Array</span> <span class="n">uids</span><span class="p">)</span>
</pre></div>
</div>
<p>参数</p>
<p>gid</p>
<p>​ Type:System.Int32</p>
<p>​ 群组ID</p>
<p>uids</p>
<p>​ Type:System.Array</p>
<p>​ 一维Array，用户ID集合</p>
<p>返回值</p>
<p>Type:System.Int32</p>
<p>执行成功标示 0：成功 ，-1：失败</p>
</div>
<div class="section" id="id136">
<h4>示例<a class="headerlink" href="#id136" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;Submit20&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;TempLeaveGroup&#39;</span> <span class="n">runat</span><span class="o">=</span><span class="s2">&quot;server&quot;</span>  <span class="n">onclick</span><span class="o">=</span><span class="s2">&quot;TempLeaveGroup()&quot;</span> <span class="o">/&gt;</span>

<span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
   <span class="n">function</span> <span class="n">TempLeaveGroup</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">var</span> <span class="n">uids</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Array</span><span class="p">()</span>
        <span class="n">uids</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">50720</span><span class="p">;</span>
        <span class="n">uids</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">50720</span><span class="p">;</span>
        <span class="n">actx</span><span class="o">.</span><span class="n">TempLeaveGroup</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">uids</span><span class="p">);</span>
    <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="audioenable-array-bool">
<h3>Audioenable方法(Array, bool)<a class="headerlink" href="#audioenable-array-bool" title="永久链接至标题">¶</a></h3>
<p>遥开遥闭</p>
<div class="section" id="id137">
<h4>语法<a class="headerlink" href="#id137" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">public</span> <span class="nb">int</span> <span class="n">Audioenable</span><span class="p">(</span><span class="n">Array</span> <span class="n">uids</span><span class="p">,</span> <span class="nb">bool</span> <span class="n">audioenabled</span><span class="p">)</span>
</pre></div>
</div>
<p>参数</p>
<p>uids</p>
<p>​ Type:System.Array</p>
<p>​ 一维Array，用户ID集合</p>
<p>audioenabled</p>
<p>​ Type:System.Boolean</p>
<p>​ true:遥开 false:遥闭</p>
<p>返回值</p>
<p>Type:System.Int32</p>
<p>执行成功标示 0：成功 ，-1：失败</p>
</div>
<div class="section" id="id138">
<h4>示例<a class="headerlink" href="#id138" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nb">input</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;Submit20&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;遥开&#39;</span> <span class="n">runat</span><span class="o">=</span><span class="s2">&quot;server&quot;</span>  <span class="n">onclick</span><span class="o">=</span><span class="s2">&quot;Audioenable()&quot;</span> <span class="o">/&gt;</span>

<span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
    <span class="n">function</span> <span class="n">Audioenable</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">var</span> <span class="n">uids</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Array</span><span class="p">()</span>
        <span class="n">uids</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">50720</span><span class="p">;</span>
        <span class="n">uids</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">50720</span><span class="p">;</span>
        <span class="n">actx</span><span class="o">.</span><span class="n">Audioenable</span><span class="p">(</span><span class="n">uids</span><span class="p">,</span><span class="n">true</span><span class="p">);</span>
    <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="forcedispatch-array">
<h3>ForceDispatch方法(Array)<a class="headerlink" href="#forcedispatch-array" title="永久链接至标题">¶</a></h3>
<p>强拉，在群组列表中把在线不在本群组内的人员强拉回调度员所在群组</p>
<div class="section" id="id139">
<h4>语法<a class="headerlink" href="#id139" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">public</span> <span class="nb">int</span> <span class="n">ForceDispatch</span><span class="p">(</span><span class="n">Array</span> <span class="n">uids</span><span class="p">)</span>
</pre></div>
</div>
<p>参数</p>
<p>uids</p>
<p>​ Type:System.Array</p>
<p>​ 一维Array，用户ID集合</p>
<p>返回值</p>
<p>Type:System.Int32</p>
<p>执行成功标示 0：成功 ，-1：失败</p>
</div>
<div class="section" id="id140">
<h4>示例<a class="headerlink" href="#id140" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;Submit20&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;ForceDispatch&#39;</span> <span class="n">runat</span><span class="o">=</span><span class="s2">&quot;server&quot;</span>  <span class="n">onclick</span><span class="o">=</span><span class="s2">&quot;ForceDispatch()&quot;</span> <span class="o">/&gt;</span>

<span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
    <span class="n">function</span> <span class="n">ForceDispatch</span><span class="p">()</span> <span class="p">{</span>
       <span class="n">var</span> <span class="n">uids</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Array</span><span class="p">()</span>
        <span class="n">uids</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">50720</span><span class="p">;</span>
        <span class="n">uids</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">50720</span><span class="p">;</span>
        <span class="n">actx</span><span class="o">.</span><span class="n">ForceDispatch</span><span class="p">(</span><span class="n">uids</span><span class="p">);</span>
    <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="takemic-array">
<h3>Takemic方法(Array)<a class="headerlink" href="#takemic-array" title="永久链接至标题">¶</a></h3>
<p>强拆，在群组列表中把正在讲话的用户强拆，强制中断其语音</p>
<div class="section" id="id141">
<h4>语法<a class="headerlink" href="#id141" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">public</span> <span class="nb">int</span> <span class="n">Takemic</span><span class="p">(</span><span class="n">Array</span> <span class="n">uids</span><span class="p">)</span>
</pre></div>
</div>
<p>参数</p>
<p>uids</p>
<p>​ Type:System.Array</p>
<p>​ 一维Array，用户ID集合</p>
<p>返回值</p>
<p>Type:System.Int32</p>
<p>执行成功标示：0【成功】 -1【失败】</p>
</div>
<div class="section" id="id142">
<h4>示例<a class="headerlink" href="#id142" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;Submit20&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;Takemic&#39;</span> <span class="n">runat</span><span class="o">=</span><span class="s2">&quot;server&quot;</span>  <span class="n">onclick</span><span class="o">=</span><span class="s2">&quot;Takemic()&quot;</span> <span class="o">/&gt;</span>

<span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
   <span class="n">function</span> <span class="n">Takemic</span><span class="p">()</span> <span class="p">{</span>
      <span class="n">var</span> <span class="n">uids</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Array</span><span class="p">()</span>
        <span class="n">uids</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">50720</span><span class="p">;</span>
        <span class="n">uids</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">50720</span><span class="p">;</span>
        <span class="n">alert</span><span class="p">(</span><span class="n">actx</span><span class="o">.</span><span class="n">Takemic</span><span class="p">(</span><span class="n">mycars</span><span class="p">));</span>
    <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="getuser-int">
<h3>GetUser方法(int)<a class="headerlink" href="#getuser-int" title="永久链接至标题">¶</a></h3>
<p>获取用户信息</p>
<div class="section" id="id143">
<h4>语法<a class="headerlink" href="#id143" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">public</span> <span class="n">string</span> <span class="n">GetUser</span><span class="p">(</span><span class="nb">int</span> <span class="n">uid</span><span class="p">)</span>
</pre></div>
</div>
<p>参数</p>
<p>uid</p>
<p>​ Type:System.Int32</p>
<p>​ 用户ID</p>
<p>返回值</p>
<p>Type: System.String</p>
<p>序列化的 JSON 字符串。</p>
<p>对象：用户实体类User参考：用户信息</p>
</div>
<div class="section" id="id144">
<h4>示例<a class="headerlink" href="#id144" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;Submit20&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;GetUser&#39;</span> <span class="n">runat</span><span class="o">=</span><span class="s2">&quot;server&quot;</span>  <span class="n">onclick</span><span class="o">=</span><span class="s2">&quot;GetUser()&quot;</span> <span class="o">/&gt;</span>

<span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
   <span class="n">function</span> <span class="n">GetUser</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">actx</span><span class="o">.</span><span class="n">GetUser</span><span class="p">(</span><span class="mi">50711</span><span class="p">);</span>
    <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>返回数据示例</p>
<div class="code json highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s2">&quot;gid&quot;</span><span class="p">:</span><span class="mi">600901</span><span class="p">,</span><span class="s2">&quot;uid&quot;</span><span class="p">:</span><span class="mi">50711</span><span class="p">,</span><span class="s2">&quot;role&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;online&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;has_gid&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;has_role&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;audio_enable&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;账号01&quot;</span><span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="getusers-array">
<h3>GetUsers方法(Array)<a class="headerlink" href="#getusers-array" title="永久链接至标题">¶</a></h3>
<p>获取用户信息集合</p>
<div class="section" id="id145">
<h4>语法<a class="headerlink" href="#id145" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">public</span> <span class="n">string</span> <span class="n">GetUser</span><span class="p">(</span><span class="n">Array</span> <span class="n">uids</span><span class="p">)</span>
</pre></div>
</div>
<p>参数</p>
<p>uids</p>
<p>​ Type:System.Array</p>
<p>​ 一维Array，用户ID集合</p>
<p>返回值</p>
<p>Type: System.String</p>
<p>序列化的 JSON 字符串。</p>
<p>对象：用户实体类User集合参考：用户信息</p>
</div>
<div class="section" id="id146">
<h4>示例<a class="headerlink" href="#id146" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;Submit20&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;GetUsers&#39;</span> <span class="n">runat</span><span class="o">=</span><span class="s2">&quot;server&quot;</span>  <span class="n">onclick</span><span class="o">=</span><span class="s2">&quot;GetUsers()&quot;</span> <span class="o">/&gt;</span>

<span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
   <span class="n">function</span> <span class="n">GetUsers</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">var</span> <span class="n">uids</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Array</span><span class="p">()</span>
        <span class="n">uids</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">50720</span><span class="p">;</span>
        <span class="n">uids</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">50720</span><span class="p">;</span>
        <span class="n">actx</span><span class="o">.</span><span class="n">GetUsers</span><span class="p">(</span><span class="n">uids</span><span class="p">);</span>
    <span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>返回数据示例</p>
<div class="code json highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[{</span><span class="s2">&quot;gid&quot;</span><span class="p">:</span><span class="mi">600901</span><span class="p">,</span><span class="s2">&quot;uid&quot;</span><span class="p">:</span><span class="mi">50711</span><span class="p">,</span><span class="s2">&quot;role&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;online&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;has_gid&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;has_role&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;audio_enable&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;账号01&quot;</span><span class="p">}]</span>
</pre></div>
</div>
<hr class="docutils" />
<div id="onDispatched"><p>onDispatchedX事件</p>
</div><p>强拉结果通知事件</p>
<ul class="simple">
<li>主动触发条件</li>
</ul>
<p>​ 执行ForceDispatch 方法</p>
</div>
<div class="section" id="id147">
<h4>语法<a class="headerlink" href="#id147" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">onDispatchedX</span><span class="p">(</span><span class="nb">object</span> <span class="n">usersListjson</span><span class="p">);</span>
</pre></div>
</div>
<p>参数</p>
<p>usersListjson</p>
<p>Type: System.Object</p>
<p>序列化的 JSON 字符串。</p>
<p>对象：Dispatched 参考 ： 强拉信息</p>
</div>
<div class="section" id="id148">
<h4>示例<a class="headerlink" href="#id148" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;myAcX&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span> <span class="n">event</span><span class="o">=</span><span class="s2">&quot;onDispatchedX(usersListjson)&quot;</span><span class="o">&gt;</span>
    <span class="n">alert</span><span class="p">(</span><span class="s2">&quot;onDispatchedX&quot;</span> <span class="o">+</span> <span class="n">usersListjson</span><span class="p">);</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
<hr class="docutils" />
<div id="onTakeMic"><p>onTakeMicX事件</p>
</div><p>强拆结果通知事件</p>
<ul class="simple">
<li>主动触发条件</li>
</ul>
<p>​ 执行 Takemic 方法</p>
</div>
<div class="section" id="id149">
<h4>语法<a class="headerlink" href="#id149" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">onTakeMicX</span><span class="p">(</span><span class="nb">object</span> <span class="n">success</span><span class="p">);</span>
</pre></div>
</div>
<p>参数</p>
<p>success</p>
<p>​ Type: System.Object</p>
<p>​ true：成功 false：失败</p>
</div>
<div class="section" id="id150">
<h4>示例<a class="headerlink" href="#id150" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;myAcX&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span> <span class="n">event</span><span class="o">=</span><span class="s2">&quot;onTakeMicX(success)&quot;</span><span class="o">&gt;</span>
    <span class="n">alert</span><span class="p">(</span><span class="s2">&quot;onTakeMicX&quot;</span> <span class="o">+</span> <span class="n">success</span><span class="p">);</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
<hr class="docutils" />
<div id="onAudioEnabled"><p>onAudioEnabledX事件</p>
</div><p>遥开遥闭结果通知事件</p>
<ul class="simple">
<li>主动触发条件</li>
</ul>
<p>​ 执行 Audioenable方法</p>
</div>
<div class="section" id="id151">
<h4>语法<a class="headerlink" href="#id151" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">onAudioEnabledX</span><span class="p">(</span><span class="nb">object</span> <span class="n">usersListjson</span><span class="p">);</span>
</pre></div>
</div>
<p>参数</p>
<p>usersListjson</p>
<p>Type: System.Object</p>
<p>序列化的 JSON 字符串。</p>
<p>对象： Andioenable 参考 ： 遥开遥闭</p>
</div>
<div class="section" id="id152">
<h4>示例<a class="headerlink" href="#id152" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;myAcX&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span> <span class="n">event</span><span class="o">=</span><span class="s2">&quot;onAudioEnabledX(usersListjson)&quot;</span><span class="o">&gt;</span>
    <span class="n">alert</span><span class="p">(</span><span class="s2">&quot;onAudioEnabledX&quot;</span> <span class="o">+</span> <span class="n">usersListjson</span><span class="p">);</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id153">
<h2>本地录音<a class="headerlink" href="#id153" title="永久链接至标题">¶</a></h2>
<div class="section" id="enablelocalrecord-bool-string">
<h3>EnableLocalRecord方法(bool, string)<a class="headerlink" href="#enablelocalrecord-bool-string" title="永久链接至标题">¶</a></h3>
<p>设置本地录音</p>
<div class="section" id="id154">
<h4>语法<a class="headerlink" href="#id154" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">public</span> <span class="nb">int</span> <span class="n">EnableLocalRecord</span><span class="p">(</span><span class="nb">bool</span> <span class="n">enable</span><span class="p">,</span> <span class="n">string</span> <span class="n">pathDir</span><span class="p">)</span>
</pre></div>
</div>
<p>参数</p>
<p>enable</p>
<p>​ Type:System.Boolean</p>
<p>​ true:开启本地录音 false:关闭本地录音</p>
<p>pathDir</p>
<p>​ Type:System.String</p>
<p>​ 本地录音文件保存的路径</p>
<p>返回值</p>
<p>Type:System.Int32</p>
<p>执行成功标示 0：成功 ，-1：失败</p>
<p>返回值</p>
<p>Type:System.Int32</p>
<p>执行成功标示 0：成功 ，-1：失败</p>
</div>
<div class="section" id="id155">
<h4>示例<a class="headerlink" href="#id155" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span> &lt;input id=&quot;Submit20&quot; type=&quot;submit&quot; value=&#39;EnableLocalRecord&#39; runat=&quot;server&quot;  onclick=&quot;EnableLocalRecord()&quot; /&gt;

&lt;script language=&quot;javascript&quot; type=&quot;text/javascript&quot;&gt;
    function EnableLocalRecord() {
        actx.EnableLocalRecord(true，&quot;d:\&quot;);
    }
&lt;/script&gt;
</pre></div>
</div>
</div>
</div>
<div class="section" id="playlocalrecord-string">
<h3>PlayLocalRecord方法(string)<a class="headerlink" href="#playlocalrecord-string" title="永久链接至标题">¶</a></h3>
<p>播放本地录音</p>
<div class="section" id="id156">
<h4>语法<a class="headerlink" href="#id156" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">public</span> <span class="nb">int</span> <span class="n">PlayLocalRecord</span><span class="p">(</span><span class="n">string</span> <span class="n">path</span><span class="p">)</span>
</pre></div>
</div>
<p>参数</p>
<p>path</p>
<p>​ Type:System.String</p>
<p>​ 文件的绝对路径（播放的文件格式为evrc）</p>
<p>返回值</p>
<p>Type:System.Int32</p>
<p>执行成功标示 0：成功 ，-1：失败</p>
</div>
<div class="section" id="id157">
<h4>示例<a class="headerlink" href="#id157" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;input id=&quot;Submit20&quot; type=&quot;submit&quot; value=&#39;PlayLocalRecord&#39; runat=&quot;server&quot;  onclick=&quot;PlayLocalRecord()&quot; /&gt;

&lt;script language=&quot;javascript&quot; type=&quot;text/javascript&quot;&gt;
   function PlayLocalRecord() {
        actx.PlayLocalRecord(true，&quot;D:\2018_1_18_13_45_4_996_600901_50711.evrc&quot;);
    }
&lt;/script&gt;
</pre></div>
</div>
</div>
</div>
<div class="section" id="onstartrecordx">
<h3>onStartRecordX事件<a class="headerlink" href="#onstartrecordx" title="永久链接至标题">¶</a></h3>
<p>开始录音的通知事件</p>
<div class="section" id="id158">
<h4>语法<a class="headerlink" href="#id158" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">onStartRecordX</span><span class="p">(</span><span class="nb">object</span> <span class="n">gid</span><span class="p">,</span> <span class="nb">object</span> <span class="n">uid</span><span class="p">,</span> <span class="nb">object</span> <span class="n">starttime</span><span class="p">,</span> <span class="nb">object</span> <span class="n">filename</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id159">
<h4>示例<a class="headerlink" href="#id159" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;myAcX&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span> <span class="n">event</span><span class="o">=</span><span class="s2">&quot;onStartRecordX(gid,uid,starttime,filename)&quot;</span><span class="o">&gt;</span>

<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>参数</p>
<p>gid</p>
<p>​ Type: System.Object</p>
<p>​ 群组ID</p>
<p>uid</p>
<p>​ Type: System.Object</p>
<p>​ 讲话者ID</p>
<p>starttime</p>
<p>​ Type: System.Object</p>
<p>​ 开始录制时间</p>
<p>filename</p>
<p>​ Type: System.Object</p>
<p>​ 文件名称</p>
</div>
</div>
<div class="section" id="onstoprecordx">
<h3>onStopRecordX事件<a class="headerlink" href="#onstoprecordx" title="永久链接至标题">¶</a></h3>
<p>结束录音的通知事件</p>
<div class="section" id="id160">
<h4>语法<a class="headerlink" href="#id160" title="永久链接至标题">¶</a></h4>
<div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">onStopRecordX</span><span class="p">(</span><span class="nb">object</span> <span class="n">success</span><span class="p">,</span> <span class="nb">object</span> <span class="n">gid</span><span class="p">,</span> <span class="nb">object</span> <span class="n">uid</span><span class="p">,</span> <span class="nb">object</span> <span class="n">finishtime</span><span class="p">,</span> <span class="nb">object</span> <span class="n">filename</span><span class="p">);</span>
</pre></div>
</div>
<p>参数</p>
<p>success</p>
<p>​ Type: System.Object</p>
<p>​ 执行结果true:成功 false:失败</p>
<p>gid</p>
<p>​ Type: System.Object</p>
<p>​ 群组ID</p>
<p>uid</p>
<p>​ Type: System.Object</p>
<p>​ 讲话者ID</p>
<p>finishtime</p>
<p>​ Type: System.Object</p>
<p>​ 结束录制时间</p>
<p>filename</p>
<p>​ Type: System.Object</p>
<p>​ 文件名称</p>
</div>
<div class="section" id="id161">
<h4>示例<a class="headerlink" href="#id161" title="永久链接至标题">¶</a></h4>
<div class="code html highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;myAcX&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span> <span class="n">event</span><span class="o">=</span><span class="s2">&quot;onStopRecordX(success,gid,uid,finishtime,filename)&quot;</span><span class="o">&gt;</span>

<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="id162">
<h1>数据结构定义<a class="headerlink" href="#id162" title="永久链接至标题">¶</a></h1>
<p>###</p>
<div id="Account"><p>账号信息</p>
</div><div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span>public struct Account
{
       /// &lt;summary&gt;
       /// 登录名
       /// &lt;/summary&gt;
       public string Name

       /// &lt;summary&gt;
       /// 密码
       /// &lt;/summary&gt;
       public string Password

       /// &lt;summary&gt;
       /// 用户角色
       /// 0：对讲用户 3：调度员
       /// &lt;/summary&gt;
       public int Role

       /// &lt;summary&gt;
       /// 是否自动登录
       /// &lt;/summary&gt;
       public int IsAutoLogin

       /// &lt;summary&gt;
       /// 是否记住密码
       /// &lt;/summary&gt;
       public int IsRemembered
}
</pre></div>
</div>
<p>###</p>
<div id="Group"><p>群组信息</p>
</div><div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span> public struct Group
   {
    /// &lt;summary&gt;
    /// 群组类型：1为普通组，2为临时组，3为紧急组
    /// &lt;/summary&gt;
    public int type;

    /// &lt;summary&gt;
    /// 群组编号
    /// &lt;/summary&gt;
    public UInt32 gid;

    /// &lt;summary&gt;
    /// 群组名称
    /// &lt;/summary&gt;
    public string name;

    /// &lt;summary&gt;
    /// 群组优先级
    /// &lt;/summary&gt;
    public int prior;

    /// &lt;summary&gt;
    /// 服务IP
    /// &lt;/summary&gt;
    public UInt32 ip;

    /// &lt;summary&gt;
    /// 服务端口
    /// &lt;/summary&gt;
    public UInt16 port;
}
</pre></div>
</div>
<p>###</p>
<div id="User"><p>用户信息</p>
</div><div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span>public struct User
{
  /// &lt;summary&gt;
  /// 所在群组的编号
  /// &lt;/summary&gt;
  public UInt32 gid;

  /// &lt;summary&gt;
  /// 用户编号
  /// &lt;/summary&gt;
  public UInt32 uid;

  /// &lt;summary&gt;
  /// 用户角色 0：对讲用户 3：调度员
  /// &lt;/summary&gt;

  public UInt32 role;
  /// &lt;summary&gt;
  /// 在线状态
  /// &lt;/summary&gt;
  public int online;

  /// &lt;summary&gt;
  /// 是否有群组编号
  /// &lt;/summary&gt;
  public int has_gid;

  /// &lt;summary&gt;
  /// 是否有角色
  /// &lt;/summary&gt;
  public int has_role;

  /// &lt;summary&gt;
  /// 语音状态是否打开
  /// &lt;/summary&gt;
  public int audio_enabled;

  /// &lt;summary&gt;
  /// 成员名称
  /// &lt;/summary&gt;
  public string name;
}
</pre></div>
</div>
<p>###</p>
<div id="Member"><p>成员信息</p>
</div><div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">public</span> <span class="n">struct</span> <span class="n">Member</span>
<span class="p">{</span>
    <span class="o">///</span> <span class="o">&lt;</span><span class="n">summary</span><span class="o">&gt;</span>
    <span class="o">///</span> <span class="n">所在群组的编号</span>
    <span class="o">///</span> <span class="o">&lt;/</span><span class="n">summary</span><span class="o">&gt;</span>
    <span class="n">public</span> <span class="n">UInt32</span> <span class="n">gid</span><span class="p">;</span>

    <span class="o">///</span> <span class="o">&lt;</span><span class="n">summary</span><span class="o">&gt;</span>
    <span class="o">///</span> <span class="n">用户编号</span>
    <span class="o">///</span> <span class="o">&lt;/</span><span class="n">summary</span><span class="o">&gt;</span>
    <span class="n">public</span> <span class="n">UInt32</span> <span class="n">uid</span><span class="p">;</span>

    <span class="o">///</span> <span class="o">&lt;</span><span class="n">summary</span><span class="o">&gt;</span>
    <span class="o">///</span> <span class="n">用户角色</span>
    <span class="o">///</span> <span class="o">&lt;/</span><span class="n">summary</span><span class="o">&gt;</span>
    <span class="n">public</span> <span class="n">UInt32</span> <span class="n">role</span><span class="p">;</span>

    <span class="o">///</span> <span class="o">&lt;</span><span class="n">summary</span><span class="o">&gt;</span>
    <span class="o">///</span> <span class="n">在线状态</span>
    <span class="o">///</span> <span class="o">&lt;/</span><span class="n">summary</span><span class="o">&gt;</span>
    <span class="n">public</span> <span class="nb">int</span> <span class="n">online</span><span class="p">;</span>

    <span class="o">///</span> <span class="o">&lt;</span><span class="n">summary</span><span class="o">&gt;</span>
    <span class="o">///</span> <span class="n">是否再组</span>
    <span class="o">///</span> <span class="o">&lt;/</span><span class="n">summary</span><span class="o">&gt;</span>
    <span class="n">public</span> <span class="nb">int</span> <span class="n">ingroup</span><span class="p">;</span>

    <span class="o">///</span> <span class="o">&lt;</span><span class="n">summary</span><span class="o">&gt;</span>
    <span class="o">///</span> <span class="n">是否有群组编号</span>
    <span class="o">///</span> <span class="o">&lt;/</span><span class="n">summary</span><span class="o">&gt;</span>
    <span class="n">public</span> <span class="nb">int</span> <span class="n">has_gid</span><span class="p">;</span>

    <span class="o">///</span> <span class="o">&lt;</span><span class="n">summary</span><span class="o">&gt;</span>
    <span class="o">///</span> <span class="n">是否有角色</span>
    <span class="o">///</span> <span class="o">&lt;/</span><span class="n">summary</span><span class="o">&gt;</span>
    <span class="n">public</span> <span class="nb">int</span> <span class="n">has_role</span><span class="p">;</span>

    <span class="o">///</span> <span class="o">&lt;</span><span class="n">summary</span><span class="o">&gt;</span>
    <span class="o">///</span> <span class="n">语音状态是否打开</span>
    <span class="o">///</span> <span class="o">&lt;/</span><span class="n">summary</span><span class="o">&gt;</span>
    <span class="n">public</span> <span class="nb">int</span> <span class="n">audio_enabled</span><span class="p">;</span>

    <span class="o">///</span> <span class="o">&lt;</span><span class="n">summary</span><span class="o">&gt;</span>
    <span class="o">///</span> <span class="n">成员名称</span>
    <span class="o">///</span> <span class="o">&lt;/</span><span class="n">summary</span><span class="o">&gt;</span>
    <span class="n">public</span> <span class="n">string</span> <span class="n">name</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>###</p>
<div id="MemberChanged"><p>群组成员变化</p>
</div><div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">public</span> <span class="k">class</span> <span class="nc">MemberChanged</span>
   <span class="p">{</span>
       <span class="o">///</span> <span class="o">&lt;</span><span class="n">summary</span><span class="o">&gt;</span>
       <span class="o">///</span> <span class="n">群组ID</span>
       <span class="o">///</span> <span class="o">&lt;/</span><span class="n">summary</span><span class="o">&gt;</span>
       <span class="n">public</span> <span class="nb">int</span> <span class="n">Gid</span><span class="p">;</span>

       <span class="o">///</span> <span class="o">&lt;</span><span class="n">summary</span><span class="o">&gt;</span>
       <span class="o">///</span> <span class="n">新加入当前群组人员id</span>
       <span class="o">///</span> <span class="o">&lt;/</span><span class="n">summary</span><span class="o">&gt;</span>
       <span class="n">public</span> <span class="n">List</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="n">Us</span><span class="p">;</span>

       <span class="o">///</span> <span class="o">&lt;</span><span class="n">summary</span><span class="o">&gt;</span>
       <span class="o">///</span> <span class="n">新加入成员个数</span>
       <span class="o">///</span> <span class="o">&lt;/</span><span class="n">summary</span><span class="o">&gt;</span>
       <span class="n">public</span> <span class="nb">int</span> <span class="n">Uc</span><span class="p">;</span>

       <span class="o">///</span> <span class="o">&lt;</span><span class="n">summary</span><span class="o">&gt;</span>
       <span class="o">///</span><span class="n">退出当前群组人员id</span>
       <span class="o">///</span> <span class="o">&lt;/</span><span class="n">summary</span><span class="o">&gt;</span>
       <span class="n">public</span> <span class="n">List</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="n">Rs</span><span class="p">;</span>

       <span class="o">///</span> <span class="o">&lt;</span><span class="n">summary</span><span class="o">&gt;</span>
       <span class="o">///</span> <span class="n">退出成员个数</span>
       <span class="o">///</span> <span class="o">&lt;/</span><span class="n">summary</span><span class="o">&gt;</span>
       <span class="n">public</span> <span class="nb">int</span> <span class="n">Rc</span><span class="p">;</span>

       <span class="o">///</span> <span class="o">&lt;</span><span class="n">summary</span><span class="o">&gt;</span>
       <span class="o">///</span> <span class="n">进入当前群组人员</span> <span class="nb">id</span>
       <span class="o">///</span> <span class="o">&lt;/</span><span class="n">summary</span><span class="o">&gt;</span>
       <span class="n">public</span> <span class="n">List</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="n">Js</span><span class="p">;</span>

       <span class="o">///</span> <span class="o">&lt;</span><span class="n">summary</span><span class="o">&gt;</span>
       <span class="o">///</span> <span class="n">进入成员个数</span>
       <span class="o">///</span> <span class="o">&lt;/</span><span class="n">summary</span><span class="o">&gt;</span>
       <span class="n">public</span> <span class="nb">int</span> <span class="n">Jc</span><span class="p">;</span>

       <span class="o">///</span> <span class="o">&lt;</span><span class="n">summary</span><span class="o">&gt;</span>
       <span class="o">///</span> <span class="n">离开当前群组人员i</span>
       <span class="o">///</span> <span class="o">&lt;/</span><span class="n">summary</span><span class="o">&gt;</span>
       <span class="n">public</span> <span class="n">List</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="n">Ls</span><span class="p">;</span>

       <span class="o">///</span> <span class="o">&lt;</span><span class="n">summary</span><span class="o">&gt;</span>
       <span class="o">///</span> <span class="n">离开成员个数</span>
       <span class="o">///</span> <span class="o">&lt;/</span><span class="n">summary</span><span class="o">&gt;</span>
       <span class="n">public</span> <span class="nb">int</span> <span class="n">Lc</span><span class="p">;</span>
   <span class="p">}</span>
</pre></div>
</div>
<p>###</p>
<div id="Dispatched"><p>强拉信息</p>
</div><div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">public</span>  <span class="k">class</span> <span class="nc">Dispatched</span>
   <span class="p">{</span>
       <span class="o">///</span> <span class="o">&lt;</span><span class="n">summary</span><span class="o">&gt;</span>
       <span class="o">///</span> <span class="n">执行结果</span>
       <span class="o">///</span> <span class="o">&lt;/</span><span class="n">summary</span><span class="o">&gt;</span>
       <span class="n">public</span> <span class="nb">bool</span> <span class="n">Success</span><span class="p">;</span>

       <span class="o">///</span> <span class="o">&lt;</span><span class="n">summary</span><span class="o">&gt;</span>
       <span class="o">///</span> <span class="n">是否有群组</span>
       <span class="o">///</span> <span class="o">&lt;/</span><span class="n">summary</span><span class="o">&gt;</span>
       <span class="n">public</span> <span class="nb">bool</span> <span class="n">HasGid</span><span class="p">;</span>

       <span class="o">///</span> <span class="o">&lt;</span><span class="n">summary</span><span class="o">&gt;</span>
       <span class="o">///</span> <span class="n">群组ID</span>
       <span class="o">///</span> <span class="o">&lt;/</span><span class="n">summary</span><span class="o">&gt;</span>
       <span class="n">public</span> <span class="nb">int</span> <span class="n">Gid</span><span class="p">;</span>

       <span class="o">///</span> <span class="o">&lt;</span><span class="n">summary</span><span class="o">&gt;</span>
       <span class="o">///</span> <span class="n">用户ID集合</span>
       <span class="o">///</span> <span class="o">&lt;/</span><span class="n">summary</span><span class="o">&gt;</span>
       <span class="n">public</span> <span class="n">List</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="n">Uids</span><span class="p">;</span>

       <span class="o">///</span> <span class="o">&lt;</span><span class="n">summary</span><span class="o">&gt;</span>
       <span class="o">///</span> <span class="n">用户个数</span>
       <span class="o">///</span> <span class="o">&lt;/</span><span class="n">summary</span><span class="o">&gt;</span>
       <span class="n">public</span> <span class="nb">int</span> <span class="n">UidSize</span><span class="p">;</span>
   <span class="p">}</span>
</pre></div>
</div>
<p>###</p>
<div id="AudioEnabled"><p>遥开遥闭</p>
</div><div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">public</span> <span class="k">class</span> <span class="nc">AudioEnabled</span>
    <span class="p">{</span>
        <span class="o">///</span> <span class="o">&lt;</span><span class="n">summary</span><span class="o">&gt;</span>
        <span class="o">///</span> <span class="n">执行结果</span>
        <span class="o">///</span> <span class="o">&lt;/</span><span class="n">summary</span><span class="o">&gt;</span>
        <span class="n">public</span> <span class="nb">bool</span> <span class="n">Success</span><span class="p">;</span>

        <span class="o">///</span> <span class="o">&lt;</span><span class="n">summary</span><span class="o">&gt;</span>
        <span class="o">///</span> <span class="n">遥开遥闭状态</span>
        <span class="o">///</span> <span class="o">&lt;/</span><span class="n">summary</span><span class="o">&gt;</span>
        <span class="n">public</span> <span class="nb">bool</span> <span class="n">AudioEnable</span><span class="p">;</span>

        <span class="o">///</span> <span class="o">&lt;</span><span class="n">summary</span><span class="o">&gt;</span>
        <span class="o">///</span> <span class="n">用户ID集合</span>
        <span class="o">///</span> <span class="o">&lt;/</span><span class="n">summary</span><span class="o">&gt;</span>
        <span class="n">public</span> <span class="n">List</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="n">Uids</span><span class="p">;</span>

        <span class="o">///</span> <span class="o">&lt;</span><span class="n">summary</span><span class="o">&gt;</span>
        <span class="o">///</span> <span class="n">用户个数</span>
        <span class="o">///</span> <span class="o">&lt;/</span><span class="n">summary</span><span class="o">&gt;</span>
        <span class="n">public</span> <span class="nb">int</span> <span class="n">Size</span><span class="p">;</span>
    <span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id163">
<h1>数据定义<a class="headerlink" href="#id163" title="永久链接至标题">¶</a></h1>
<p>###</p>
<div id="LoginError"><p>错误码</p>
</div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span>-1：帐号密码错误
-2：帐号已欠费或已超出服务期
-3：帐号不存在
-4：无效的帐号登录权限
-10：帐号已在其他位置登录
-11：帐号登录超时
-20：网络连接失败
-21：网络正在重连
-30：加入群组失败
-31：加入群组请求超时
-40:当前有人正在讲话&lt;服务器回馈&gt;
-41：短时间内不允许多次抢麦
-42：摇闭状态不允许抢麦
-43：内部会话状态错误&lt;主动放麦后立马去抢麦&gt;
-44：抢麦时申请音频焦点失败
-45：已较低的优先级抢麦&lt;出现在当时正在有人讲话，自身比讲话人优先级低时&gt;
-46：网络不稳定
-50：打开录音设备失败
</pre></div>
</div>
<div class="section" id="id164">
<h2>接口调用返回值<a class="headerlink" href="#id164" title="永久链接至标题">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>-1：操作失败
 0：操作成功
</pre></div>
</div>
<p>###</p>
<div id="OnlineStatus"><p>用户在线状态</p>
</div><div class="code c# highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">public</span> <span class="n">enum</span> <span class="n">OnlineStatus</span>
<span class="p">{</span>
    <span class="o">///</span> <span class="o">&lt;</span><span class="n">summary</span><span class="o">&gt;</span>
    <span class="o">///</span> <span class="n">未知状态</span>
    <span class="o">///</span> <span class="o">&lt;/</span><span class="n">summary</span><span class="o">&gt;</span>
    <span class="n">ONLINE_STATUS_UNKNOWN</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="o">///</span> <span class="o">&lt;</span><span class="n">summary</span><span class="o">&gt;</span>
    <span class="o">///</span> <span class="n">离线状态</span>
    <span class="o">///</span> <span class="o">&lt;/</span><span class="n">summary</span><span class="o">&gt;</span>
    <span class="n">ONLINE_STATUS_OFFLINE</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="o">///</span> <span class="o">&lt;</span><span class="n">summary</span><span class="o">&gt;</span>
    <span class="o">///</span> <span class="n">登录中</span>
    <span class="o">///</span> <span class="o">&lt;/</span><span class="n">summary</span><span class="o">&gt;</span>
    <span class="n">ONLINE_STATUS_LOGINING</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
    <span class="o">///</span> <span class="o">&lt;</span><span class="n">summary</span><span class="o">&gt;</span>
    <span class="o">///</span> <span class="n">在线状态</span>
    <span class="o">///</span> <span class="o">&lt;/</span><span class="n">summary</span><span class="o">&gt;</span>
    <span class="n">ONLINE_STATUS_ONLINE</span> <span class="o">=</span> <span class="mi">3</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">內容目录</a></h3>
  <ul>
<li><a class="reference internal" href="#">安装</a></li>
<li><a class="reference internal" href="#id2">初始化</a><ul>
<li><a class="reference internal" href="#id3">初始化配置</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id4">示例</a><ul>
<li><a class="reference internal" href="#id5">登录示例</a><ul>
<li><a class="reference internal" href="#activex">加载ActiveX控件</a></li>
<li><a class="reference internal" href="#echatapi">初始化EchatApi</a></li>
<li><a class="reference internal" href="#id6">登录成功事件</a></li>
<li><a class="reference internal" href="#id7">登录失败事件</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id8">主页面示例</a><ul>
<li><a class="reference internal" href="#id9">加载ActiveX控件</a></li>
<li><a class="reference internal" href="#id10">初始化EchatApi中的事件</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#id11">接口定义</a><ul>
<li><a class="reference internal" href="#id12">账号管理</a><ul>
<li><a class="reference internal" href="#login-string-string-int">Login方法（String,String,Int)</a><ul>
<li><a class="reference internal" href="#id13">语法</a></li>
<li><a class="reference internal" href="#id14">备注</a></li>
<li><a class="reference internal" href="#id15">通知事件</a></li>
<li><a class="reference internal" href="#id16">示例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#logout">Logout方法()</a><ul>
<li><a class="reference internal" href="#id17">语法</a></li>
<li><a class="reference internal" href="#id18">示例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#getcurrentuser">GetCurrentUser方法()</a><ul>
<li><a class="reference internal" href="#id19">语法</a></li>
<li><a class="reference internal" href="#id20">示例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#getonlinestatus">GetOnlineStatus方法()</a><ul>
<li><a class="reference internal" href="#id21">语法</a></li>
<li><a class="reference internal" href="#id22">示例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#getuid">GetUid方法()</a><ul>
<li><a class="reference internal" href="#id23">语法</a></li>
<li><a class="reference internal" href="#id24">示例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#getname">GetName方法()</a><ul>
<li><a class="reference internal" href="#id25">语法</a></li>
<li><a class="reference internal" href="#id26">示例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#hasaudioenabled">HasAudioEnabled方法()</a><ul>
<li><a class="reference internal" href="#id27">语法</a></li>
<li><a class="reference internal" href="#id28">示例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#changename-string">ChangeName方法 (string)</a><ul>
<li><a class="reference internal" href="#id29">语法</a></li>
<li><a class="reference internal" href="#id30">通知事件</a></li>
<li><a class="reference internal" href="#id31">示例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#changepassword-string-string">ChangePassword方法(String,String)</a><ul>
<li><a class="reference internal" href="#id32">语法</a></li>
<li><a class="reference internal" href="#id33">通知事件</a></li>
<li><a class="reference internal" href="#id34">示例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#saveaccount-string">SaveAccount方法(String)</a><ul>
<li><a class="reference internal" href="#id35">语法</a></li>
<li><a class="reference internal" href="#id36">示例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#clearaccount">ClearAccount方法()</a><ul>
<li><a class="reference internal" href="#id37">语法</a></li>
<li><a class="reference internal" href="#id38">示例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#hasaccount">HasAccount方法()</a><ul>
<li><a class="reference internal" href="#id39">语法</a></li>
<li><a class="reference internal" href="#id40">示例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#getsavedaccount">GetSavedAccount方法()</a><ul>
<li><a class="reference internal" href="#id41">语法</a></li>
<li><a class="reference internal" href="#id42">示例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#loginwithsaved">LoginWithSaved方法()</a><ul>
<li><a class="reference internal" href="#id43">语法</a></li>
<li><a class="reference internal" href="#id44">通知事件</a></li>
<li><a class="reference internal" href="#id45">示例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#ononlinestatuschangedx">onOnlineStatusChangedX事件</a><ul>
<li><a class="reference internal" href="#id46">语法</a></li>
<li><a class="reference internal" href="#id47">示例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#onchangenameresultx">onChangeNameResultX事件</a><ul>
<li><a class="reference internal" href="#id48">语法</a></li>
<li><a class="reference internal" href="#id49">示例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#onchangepasswordresultx">onChangePasswordResultX事件</a><ul>
<li><a class="reference internal" href="#id50">语法</a></li>
<li><a class="reference internal" href="#id51">示例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#onaudioenablechangedx">onAudioEnableChangedX事件</a><ul>
<li><a class="reference internal" href="#id52">语法</a></li>
<li><a class="reference internal" href="#id53">示例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#onuserchangedx">onUserChangedX事件</a><ul>
<li><a class="reference internal" href="#id54">语法</a></li>
<li><a class="reference internal" href="#id55">示例</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#id56">群组</a><ul>
<li><a class="reference internal" href="#joingroup-int">JoinGroup方法(Int)</a><ul>
<li><a class="reference internal" href="#id57">语法</a></li>
<li><a class="reference internal" href="#id58">通知事件</a></li>
<li><a class="reference internal" href="#id59">示例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#leavegroup">LeaveGroup方法()</a><ul>
<li><a class="reference internal" href="#id60">语法</a></li>
<li><a class="reference internal" href="#id61">通知事件</a></li>
<li><a class="reference internal" href="#id62">示例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#call-array">Call方法(Array)</a><ul>
<li><a class="reference internal" href="#id63">语法</a></li>
<li><a class="reference internal" href="#id64">通知事件</a></li>
<li><a class="reference internal" href="#id65">示例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id66">销毁临时群组</a></li>
<li><a class="reference internal" href="#getgrouplist">GetGroupList方法()</a><ul>
<li><a class="reference internal" href="#id67">语法</a></li>
<li><a class="reference internal" href="#id68">示例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#getgroupbygid-int">GetGroupByGid方法(int )</a><ul>
<li><a class="reference internal" href="#id69">语法</a></li>
<li><a class="reference internal" href="#id70">示例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#getcurrentgroup">GetCurrentGroup()</a><ul>
<li><a class="reference internal" href="#id71">语法</a></li>
<li><a class="reference internal" href="#id72">示例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#getmemberlist-int">GetMemberList(Int)</a><ul>
<li><a class="reference internal" href="#id73">语法</a></li>
<li><a class="reference internal" href="#id74">示例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#startwatchgroup-int">StartWatchGroup(Int)</a><ul>
<li><a class="reference internal" href="#id75">语法</a></li>
<li><a class="reference internal" href="#id76">示例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#stopwatchgroup-int">StopWatchGroup(Int)</a><ul>
<li><a class="reference internal" href="#id77">语法</a></li>
<li><a class="reference internal" href="#id78">示例</a></li>
<li><a class="reference internal" href="#id79">语法</a></li>
<li><a class="reference internal" href="#id80">示例</a></li>
<li><a class="reference internal" href="#id81">语法</a></li>
<li><a class="reference internal" href="#id82">示例</a></li>
<li><a class="reference internal" href="#id83">语法</a></li>
<li><a class="reference internal" href="#id84">示例</a></li>
<li><a class="reference internal" href="#id85">语法</a></li>
<li><a class="reference internal" href="#id86">示例</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#id87">对讲</a><ul>
<li><a class="reference internal" href="#startspeak">StartSpeak方法()</a><ul>
<li><a class="reference internal" href="#id88">语法</a></li>
<li><a class="reference internal" href="#id89">通知事件</a></li>
<li><a class="reference internal" href="#id90">示例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#stopspeak">StopSpeak方法()</a><ul>
<li><a class="reference internal" href="#id91">语法</a></li>
<li><a class="reference internal" href="#id92">通知事件</a></li>
<li><a class="reference internal" href="#id93">示例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#getplayingsounduser">GetPlayingSoundUser方法()</a><ul>
<li><a class="reference internal" href="#id94">语法</a></li>
<li><a class="reference internal" href="#id95">示例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#getspeakingusers">GetSpeakingUsers方法()</a><ul>
<li><a class="reference internal" href="#id96">语法</a></li>
<li><a class="reference internal" href="#id97">示例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#isspeaking">IsSpeaking方法()</a><ul>
<li><a class="reference internal" href="#id98">语法</a></li>
<li><a class="reference internal" href="#id99">示例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#islistening">IsListening()</a><ul>
<li><a class="reference internal" href="#id100">语法</a></li>
<li><a class="reference internal" href="#id101">示例</a></li>
<li><a class="reference internal" href="#id102">语法</a></li>
<li><a class="reference internal" href="#id103">示例</a></li>
<li><a class="reference internal" href="#id104">语法</a></li>
<li><a class="reference internal" href="#id105">示例</a></li>
<li><a class="reference internal" href="#id106">语法</a></li>
<li><a class="reference internal" href="#id107">示例</a></li>
<li><a class="reference internal" href="#id108">语法</a></li>
<li><a class="reference internal" href="#id109">示例</a></li>
<li><a class="reference internal" href="#id110">语法</a></li>
<li><a class="reference internal" href="#id111">示例</a></li>
<li><a class="reference internal" href="#id112">语法</a></li>
<li><a class="reference internal" href="#id113">示例</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#id114">广播</a><ul>
<li><a class="reference internal" href="#sendtextbroadcast-string-array">SendTextBroadcast方法(string , Array)</a><ul>
<li><a class="reference internal" href="#id115">语法</a></li>
<li><a class="reference internal" href="#id116">通知事件</a></li>
<li><a class="reference internal" href="#id117">示例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#startrecordbroadcastaudio">StartRecordBroadcastAudio方法()</a><ul>
<li><a class="reference internal" href="#id118">语法</a></li>
<li><a class="reference internal" href="#id119">示例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#stoprecordbroadcastaudio">StopRecordBroadcastAudio方法()</a><ul>
<li><a class="reference internal" href="#id120">语法</a></li>
<li><a class="reference internal" href="#id121">示例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#sendaudiobroadcast-array">SendAudioBroadcast(Array)</a><ul>
<li><a class="reference internal" href="#id122">语法</a></li>
<li><a class="reference internal" href="#id123">通知事件</a></li>
<li><a class="reference internal" href="#id124">示例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#playrecordbroadcastaudio">PlayRecordBroadcastAudio方法()</a><ul>
<li><a class="reference internal" href="#id125">语法</a></li>
<li><a class="reference internal" href="#id126">通知事件</a></li>
<li><a class="reference internal" href="#id127">示例</a></li>
<li><a class="reference internal" href="#id128">语法</a></li>
<li><a class="reference internal" href="#id129">示例</a></li>
<li><a class="reference internal" href="#id130">语法</a></li>
<li><a class="reference internal" href="#id131">示例</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#id132">调度</a><ul>
<li><a class="reference internal" href="#tempjoingroup-int-array">TempJoinGroup方法(Int,Array)</a><ul>
<li><a class="reference internal" href="#id133">语法</a></li>
<li><a class="reference internal" href="#id134">示例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#templeavegroup-int-array">TempLeaveGroup(Int, Array)</a><ul>
<li><a class="reference internal" href="#id135">语法</a></li>
<li><a class="reference internal" href="#id136">示例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#audioenable-array-bool">Audioenable方法(Array, bool)</a><ul>
<li><a class="reference internal" href="#id137">语法</a></li>
<li><a class="reference internal" href="#id138">示例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#forcedispatch-array">ForceDispatch方法(Array)</a><ul>
<li><a class="reference internal" href="#id139">语法</a></li>
<li><a class="reference internal" href="#id140">示例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#takemic-array">Takemic方法(Array)</a><ul>
<li><a class="reference internal" href="#id141">语法</a></li>
<li><a class="reference internal" href="#id142">示例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#getuser-int">GetUser方法(int)</a><ul>
<li><a class="reference internal" href="#id143">语法</a></li>
<li><a class="reference internal" href="#id144">示例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#getusers-array">GetUsers方法(Array)</a><ul>
<li><a class="reference internal" href="#id145">语法</a></li>
<li><a class="reference internal" href="#id146">示例</a></li>
<li><a class="reference internal" href="#id147">语法</a></li>
<li><a class="reference internal" href="#id148">示例</a></li>
<li><a class="reference internal" href="#id149">语法</a></li>
<li><a class="reference internal" href="#id150">示例</a></li>
<li><a class="reference internal" href="#id151">语法</a></li>
<li><a class="reference internal" href="#id152">示例</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#id153">本地录音</a><ul>
<li><a class="reference internal" href="#enablelocalrecord-bool-string">EnableLocalRecord方法(bool, string)</a><ul>
<li><a class="reference internal" href="#id154">语法</a></li>
<li><a class="reference internal" href="#id155">示例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#playlocalrecord-string">PlayLocalRecord方法(string)</a><ul>
<li><a class="reference internal" href="#id156">语法</a></li>
<li><a class="reference internal" href="#id157">示例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#onstartrecordx">onStartRecordX事件</a><ul>
<li><a class="reference internal" href="#id158">语法</a></li>
<li><a class="reference internal" href="#id159">示例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#onstoprecordx">onStopRecordX事件</a><ul>
<li><a class="reference internal" href="#id160">语法</a></li>
<li><a class="reference internal" href="#id161">示例</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#id162">数据结构定义</a></li>
<li><a class="reference internal" href="#id163">数据定义</a><ul>
<li><a class="reference internal" href="#id164">接口调用返回值</a></li>
</ul>
</li>
</ul>

  <h4>上一个主题</h4>
  <p class="topless"><a href="csharp.html"
                        title="上一章">概述</a></p>
  <div role="note" aria-label="source link">
    <h3>本页</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/csharp_activex.rst.txt"
            rel="nofollow">显示源代码</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>快速搜索</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="转向" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="总目录"
             >索引</a></li>
        <li class="right" >
          <a href="csharp.html" title="概述"
             >上一页</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">善理对讲SDK alpha 文档</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; 版权所有 2018, 善理通益.
      由 <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.0 创建。
    </div>
  </body>
</html>